(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))l(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function o(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerPolicy&&(u.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?u.credentials="include":c.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function l(c){if(c.ep)return;c.ep=!0;const u=o(c);fetch(c.href,u)}})();var Xn=!1,Qn=!1,Mt=[],Zn=-1;function vu(r){mu(r)}function mu(r){Mt.includes(r)||Mt.push(r),bu()}function fs(r){let s=Mt.indexOf(r);s!==-1&&s>Zn&&Mt.splice(s,1)}function bu(){!Qn&&!Xn&&(Xn=!0,queueMicrotask(_u))}function _u(){Xn=!1,Qn=!0;for(let r=0;r<Mt.length;r++)Mt[r](),Zn=r;Mt.length=0,Zn=-1,Qn=!1}var zt,qt,Ce,vs,tr=!0;function gu(r){tr=!1,r(),tr=!0}function wu(r){zt=r.reactive,Ce=r.release,qt=s=>r.effect(s,{scheduler:o=>{tr?vu(o):o()}}),vs=r.raw}function os(r){qt=r}function xu(r){let s=()=>{};return[l=>{let c=qt(l);return r._x_effects||(r._x_effects=new Set,r._x_runEffects=()=>{r._x_effects.forEach(u=>u())}),r._x_effects.add(c),s=()=>{c!==void 0&&(r._x_effects.delete(c),Ce(c))},c},()=>{s()}]}var ms=[],bs=[],_s=[];function yu(r){_s.push(r)}function gs(r,s){typeof s=="function"?(r._x_cleanups||(r._x_cleanups=[]),r._x_cleanups.push(s)):(s=r,bs.push(s))}function Cu(r){ms.push(r)}function Eu(r,s,o){r._x_attributeCleanups||(r._x_attributeCleanups={}),r._x_attributeCleanups[s]||(r._x_attributeCleanups[s]=[]),r._x_attributeCleanups[s].push(o)}function ws(r,s){r._x_attributeCleanups&&Object.entries(r._x_attributeCleanups).forEach(([o,l])=>{(s===void 0||s.includes(o))&&(l.forEach(c=>c()),delete r._x_attributeCleanups[o])})}var vr=new MutationObserver(gr),mr=!1;function br(){vr.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),mr=!0}function xs(){Pu(),vr.disconnect(),mr=!1}var _e=[],Gn=!1;function Pu(){_e=_e.concat(vr.takeRecords()),_e.length&&!Gn&&(Gn=!0,queueMicrotask(()=>{ku(),Gn=!1}))}function ku(){gr(_e),_e.length=0}function B(r){if(!mr)return r();xs();let s=r();return br(),s}var _r=!1,He=[];function Su(){_r=!0}function Vu(){_r=!1,gr(He),He=[]}function gr(r){if(_r){He=He.concat(r);return}let s=[],o=[],l=new Map,c=new Map;for(let u=0;u<r.length;u++)if(!r[u].target._x_ignoreMutationObserver&&(r[u].type==="childList"&&(r[u].addedNodes.forEach(d=>d.nodeType===1&&s.push(d)),r[u].removedNodes.forEach(d=>d.nodeType===1&&o.push(d))),r[u].type==="attributes")){let d=r[u].target,h=r[u].attributeName,v=r[u].oldValue,b=()=>{l.has(d)||l.set(d,[]),l.get(d).push({name:h,value:d.getAttribute(h)})},g=()=>{c.has(d)||c.set(d,[]),c.get(d).push(h)};d.hasAttribute(h)&&v===null?b():d.hasAttribute(h)?(g(),b()):g()}c.forEach((u,d)=>{ws(d,u)}),l.forEach((u,d)=>{ms.forEach(h=>h(d,u))});for(let u of o)if(!s.includes(u)&&(bs.forEach(d=>d(u)),u._x_cleanups))for(;u._x_cleanups.length;)u._x_cleanups.pop()();s.forEach(u=>{u._x_ignoreSelf=!0,u._x_ignore=!0});for(let u of s)o.includes(u)||u.isConnected&&(delete u._x_ignoreSelf,delete u._x_ignore,_s.forEach(d=>d(u)),u._x_ignore=!0,u._x_ignoreSelf=!0);s.forEach(u=>{delete u._x_ignoreSelf,delete u._x_ignore}),s=null,o=null,l=null,c=null}function ys(r){return Pe(Ut(r))}function Ee(r,s,o){return r._x_dataStack=[s,...Ut(o||r)],()=>{r._x_dataStack=r._x_dataStack.filter(l=>l!==s)}}function Ut(r){return r._x_dataStack?r._x_dataStack:typeof ShadowRoot=="function"&&r instanceof ShadowRoot?Ut(r.host):r.parentNode?Ut(r.parentNode):[]}function Pe(r){let s=new Proxy({},{ownKeys:()=>Array.from(new Set(r.flatMap(o=>Object.keys(o)))),has:(o,l)=>r.some(c=>c.hasOwnProperty(l)),get:(o,l)=>(r.find(c=>{if(c.hasOwnProperty(l)){let u=Object.getOwnPropertyDescriptor(c,l);if(u.get&&u.get._x_alreadyBound||u.set&&u.set._x_alreadyBound)return!0;if((u.get||u.set)&&u.enumerable){let d=u.get,h=u.set,v=u;d=d&&d.bind(s),h=h&&h.bind(s),d&&(d._x_alreadyBound=!0),h&&(h._x_alreadyBound=!0),Object.defineProperty(c,l,{...v,get:d,set:h})}return!0}return!1})||{})[l],set:(o,l,c)=>{let u=r.find(d=>d.hasOwnProperty(l));return u?u[l]=c:r[r.length-1][l]=c,!0}});return s}function Cs(r){let s=l=>typeof l=="object"&&!Array.isArray(l)&&l!==null,o=(l,c="")=>{Object.entries(Object.getOwnPropertyDescriptors(l)).forEach(([u,{value:d,enumerable:h}])=>{if(h===!1||d===void 0)return;let v=c===""?u:`${c}.${u}`;typeof d=="object"&&d!==null&&d._x_interceptor?l[u]=d.initialize(r,v,u):s(d)&&d!==l&&!(d instanceof Element)&&o(d,v)})};return o(r)}function Es(r,s=()=>{}){let o={initialValue:void 0,_x_interceptor:!0,initialize(l,c,u){return r(this.initialValue,()=>Au(l,c),d=>er(l,c,d),c,u)}};return s(o),l=>{if(typeof l=="object"&&l!==null&&l._x_interceptor){let c=o.initialize.bind(o);o.initialize=(u,d,h)=>{let v=l.initialize(u,d,h);return o.initialValue=v,c(u,d,h)}}else o.initialValue=l;return o}}function Au(r,s){return s.split(".").reduce((o,l)=>o[l],r)}function er(r,s,o){if(typeof s=="string"&&(s=s.split(".")),s.length===1)r[s[0]]=o;else{if(s.length===0)throw error;return r[s[0]]||(r[s[0]]={}),er(r[s[0]],s.slice(1),o)}}var Ps={};function J(r,s){Ps[r]=s}function nr(r,s){return Object.entries(Ps).forEach(([o,l])=>{let c=null;function u(){if(c)return c;{let[d,h]=Ls(s);return c={interceptor:Es,...d},gs(s,h),c}}Object.defineProperty(r,`$${o}`,{get(){return l(s,u())},enumerable:!1})}),r}function Mu(r,s,o,...l){try{return o(...l)}catch(c){xe(c,r,s)}}function xe(r,s,o=void 0){Object.assign(r,{el:s,expression:o}),console.warn(`Alpine Expression Error: ${r.message}

${o?'Expression: "'+o+`"

`:""}`,s),setTimeout(()=>{throw r},0)}var Ue=!0;function ks(r){let s=Ue;Ue=!1;let o=r();return Ue=s,o}function Lt(r,s,o={}){let l;return U(r,s)(c=>l=c,o),l}function U(...r){return Ss(...r)}var Ss=Vs;function Lu(r){Ss=r}function Vs(r,s){let o={};nr(o,r);let l=[o,...Ut(r)],c=typeof s=="function"?Du(l,s):Tu(l,s,r);return Mu.bind(null,r,s,c)}function Du(r,s){return(o=()=>{},{scope:l={},params:c=[]}={})=>{let u=s.apply(Pe([l,...r]),c);ze(o,u)}}var Wn={};function Ou(r,s){if(Wn[r])return Wn[r];let o=Object.getPrototypeOf(async function(){}).constructor,l=/^[\n\s]*if.*\(.*\)/.test(r)||/^(let|const)\s/.test(r)?`(async()=>{ ${r} })()`:r,u=(()=>{try{return new o(["__self","scope"],`with (scope) { __self.result = ${l} }; __self.finished = true; return __self.result;`)}catch(d){return xe(d,s,r),Promise.resolve()}})();return Wn[r]=u,u}function Tu(r,s,o){let l=Ou(s,o);return(c=()=>{},{scope:u={},params:d=[]}={})=>{l.result=void 0,l.finished=!1;let h=Pe([u,...r]);if(typeof l=="function"){let v=l(l,h).catch(b=>xe(b,o,s));l.finished?(ze(c,l.result,h,d,o),l.result=void 0):v.then(b=>{ze(c,b,h,d,o)}).catch(b=>xe(b,o,s)).finally(()=>l.result=void 0)}}}function ze(r,s,o,l,c){if(Ue&&typeof s=="function"){let u=s.apply(o,l);u instanceof Promise?u.then(d=>ze(r,d,o,l)).catch(d=>xe(d,c,s)):r(u)}else typeof s=="object"&&s instanceof Promise?s.then(u=>r(u)):r(s)}var wr="x-";function Gt(r=""){return wr+r}function Ru(r){wr=r}var rr={};function I(r,s){return rr[r]=s,{before(o){if(!rr[o]){console.warn("Cannot find directive `${directive}`. `${name}` will use the default order of execution");return}const l=At.indexOf(o);At.splice(l>=0?l:At.indexOf("DEFAULT"),0,r)}}}function xr(r,s,o){if(s=Array.from(s),r._x_virtualDirectives){let u=Object.entries(r._x_virtualDirectives).map(([h,v])=>({name:h,value:v})),d=As(u);u=u.map(h=>d.find(v=>v.name===h.name)?{name:`x-bind:${h.name}`,value:`"${h.value}"`}:h),s=s.concat(u)}let l={};return s.map(Ts((u,d)=>l[u]=d)).filter(Is).map(Bu(l,o)).sort(ju).map(u=>Nu(r,u))}function As(r){return Array.from(r).map(Ts()).filter(s=>!Is(s))}var ir=!1,be=new Map,Ms=Symbol();function Iu(r){ir=!0;let s=Symbol();Ms=s,be.set(s,[]);let o=()=>{for(;be.get(s).length;)be.get(s).shift()();be.delete(s)},l=()=>{ir=!1,o()};r(o),l()}function Ls(r){let s=[],o=h=>s.push(h),[l,c]=xu(r);return s.push(c),[{Alpine:Se,effect:l,cleanup:o,evaluateLater:U.bind(U,r),evaluate:Lt.bind(Lt,r)},()=>s.forEach(h=>h())]}function Nu(r,s){let o=()=>{},l=rr[s.type]||o,[c,u]=Ls(r);Eu(r,s.original,u);let d=()=>{r._x_ignore||r._x_ignoreSelf||(l.inline&&l.inline(r,s,c),l=l.bind(l,r,s,c),ir?be.get(Ms).push(l):l())};return d.runCleanups=u,d}var Ds=(r,s)=>({name:o,value:l})=>(o.startsWith(r)&&(o=o.replace(r,s)),{name:o,value:l}),Os=r=>r;function Ts(r=()=>{}){return({name:s,value:o})=>{let{name:l,value:c}=Rs.reduce((u,d)=>d(u),{name:s,value:o});return l!==s&&r(l,s),{name:l,value:c}}}var Rs=[];function yr(r){Rs.push(r)}function Is({name:r}){return Ns().test(r)}var Ns=()=>new RegExp(`^${wr}([^:^.]+)\\b`);function Bu(r,s){return({name:o,value:l})=>{let c=o.match(Ns()),u=o.match(/:([a-zA-Z0-9\-:]+)/),d=o.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],h=s||r[o]||o;return{type:c?c[1]:null,value:u?u[1]:null,modifiers:d.map(v=>v.replace(".","")),expression:l,original:h}}}var sr="DEFAULT",At=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",sr,"teleport"];function ju(r,s){let o=At.indexOf(r.type)===-1?sr:r.type,l=At.indexOf(s.type)===-1?sr:s.type;return At.indexOf(o)-At.indexOf(l)}function ge(r,s,o={}){r.dispatchEvent(new CustomEvent(s,{detail:o,bubbles:!0,composed:!0,cancelable:!0}))}function bt(r,s){if(typeof ShadowRoot=="function"&&r instanceof ShadowRoot){Array.from(r.children).forEach(c=>bt(c,s));return}let o=!1;if(s(r,()=>o=!0),o)return;let l=r.firstElementChild;for(;l;)bt(l,s),l=l.nextElementSibling}function _t(r,...s){console.warn(`Alpine Warning: ${r}`,...s)}var as=!1;function Fu(){as&&_t("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),as=!0,document.body||_t("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),ge(document,"alpine:init"),ge(document,"alpine:initializing"),br(),yu(s=>gt(s,bt)),gs(s=>Hs(s)),Cu((s,o)=>{xr(s,o).forEach(l=>l())});let r=s=>!We(s.parentElement,!0);Array.from(document.querySelectorAll(Fs())).filter(r).forEach(s=>{gt(s)}),ge(document,"alpine:initialized")}var Cr=[],Bs=[];function js(){return Cr.map(r=>r())}function Fs(){return Cr.concat(Bs).map(r=>r())}function $s(r){Cr.push(r)}function Ks(r){Bs.push(r)}function We(r,s=!1){return Ye(r,o=>{if((s?Fs():js()).some(c=>o.matches(c)))return!0})}function Ye(r,s){if(r){if(s(r))return r;if(r._x_teleportBack&&(r=r._x_teleportBack),!!r.parentElement)return Ye(r.parentElement,s)}}function $u(r){return js().some(s=>r.matches(s))}var Us=[];function Ku(r){Us.push(r)}function gt(r,s=bt,o=()=>{}){Iu(()=>{s(r,(l,c)=>{o(l,c),Us.forEach(u=>u(l,c)),xr(l,l.attributes).forEach(u=>u()),l._x_ignore&&c()})})}function Hs(r){bt(r,s=>ws(s))}var or=[],Er=!1;function Pr(r=()=>{}){return queueMicrotask(()=>{Er||setTimeout(()=>{ar()})}),new Promise(s=>{or.push(()=>{r(),s()})})}function ar(){for(Er=!1;or.length;)or.shift()()}function Uu(){Er=!0}function kr(r,s){return Array.isArray(s)?ls(r,s.join(" ")):typeof s=="object"&&s!==null?Hu(r,s):typeof s=="function"?kr(r,s()):ls(r,s)}function ls(r,s){let o=c=>c.split(" ").filter(u=>!r.classList.contains(u)).filter(Boolean),l=c=>(r.classList.add(...c),()=>{r.classList.remove(...c)});return s=s===!0?s="":s||"",l(o(s))}function Hu(r,s){let o=h=>h.split(" ").filter(Boolean),l=Object.entries(s).flatMap(([h,v])=>v?o(h):!1).filter(Boolean),c=Object.entries(s).flatMap(([h,v])=>v?!1:o(h)).filter(Boolean),u=[],d=[];return c.forEach(h=>{r.classList.contains(h)&&(r.classList.remove(h),d.push(h))}),l.forEach(h=>{r.classList.contains(h)||(r.classList.add(h),u.push(h))}),()=>{d.forEach(h=>r.classList.add(h)),u.forEach(h=>r.classList.remove(h))}}function Je(r,s){return typeof s=="object"&&s!==null?zu(r,s):qu(r,s)}function zu(r,s){let o={};return Object.entries(s).forEach(([l,c])=>{o[l]=r.style[l],l.startsWith("--")||(l=Gu(l)),r.style.setProperty(l,c)}),setTimeout(()=>{r.style.length===0&&r.removeAttribute("style")}),()=>{Je(r,o)}}function qu(r,s){let o=r.getAttribute("style",s);return r.setAttribute("style",s),()=>{r.setAttribute("style",o||"")}}function Gu(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function lr(r,s=()=>{}){let o=!1;return function(){o?s.apply(this,arguments):(o=!0,r.apply(this,arguments))}}I("transition",(r,{value:s,modifiers:o,expression:l},{evaluate:c})=>{typeof l=="function"&&(l=c(l)),l!==!1&&(!l||typeof l=="boolean"?Yu(r,o,s):Wu(r,l,s))});function Wu(r,s,o){zs(r,kr,""),{enter:c=>{r._x_transition.enter.during=c},"enter-start":c=>{r._x_transition.enter.start=c},"enter-end":c=>{r._x_transition.enter.end=c},leave:c=>{r._x_transition.leave.during=c},"leave-start":c=>{r._x_transition.leave.start=c},"leave-end":c=>{r._x_transition.leave.end=c}}[o](s)}function Yu(r,s,o){zs(r,Je);let l=!s.includes("in")&&!s.includes("out")&&!o,c=l||s.includes("in")||["enter"].includes(o),u=l||s.includes("out")||["leave"].includes(o);s.includes("in")&&!l&&(s=s.filter((L,P)=>P<s.indexOf("out"))),s.includes("out")&&!l&&(s=s.filter((L,P)=>P>s.indexOf("out")));let d=!s.includes("opacity")&&!s.includes("scale"),h=d||s.includes("opacity"),v=d||s.includes("scale"),b=h?0:1,g=v?ve(s,"scale",95)/100:1,_=ve(s,"delay",0)/1e3,k=ve(s,"origin","center"),R="opacity, transform",X=ve(s,"duration",150)/1e3,S=ve(s,"duration",75)/1e3,x="cubic-bezier(0.4, 0.0, 0.2, 1)";c&&(r._x_transition.enter.during={transformOrigin:k,transitionDelay:`${_}s`,transitionProperty:R,transitionDuration:`${X}s`,transitionTimingFunction:x},r._x_transition.enter.start={opacity:b,transform:`scale(${g})`},r._x_transition.enter.end={opacity:1,transform:"scale(1)"}),u&&(r._x_transition.leave.during={transformOrigin:k,transitionDelay:`${_}s`,transitionProperty:R,transitionDuration:`${S}s`,transitionTimingFunction:x},r._x_transition.leave.start={opacity:1,transform:"scale(1)"},r._x_transition.leave.end={opacity:b,transform:`scale(${g})`})}function zs(r,s,o={}){r._x_transition||(r._x_transition={enter:{during:o,start:o,end:o},leave:{during:o,start:o,end:o},in(l=()=>{},c=()=>{}){cr(r,s,{during:this.enter.during,start:this.enter.start,end:this.enter.end},l,c)},out(l=()=>{},c=()=>{}){cr(r,s,{during:this.leave.during,start:this.leave.start,end:this.leave.end},l,c)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(r,s,o,l){const c=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let u=()=>c(o);if(s){r._x_transition&&(r._x_transition.enter||r._x_transition.leave)?r._x_transition.enter&&(Object.entries(r._x_transition.enter.during).length||Object.entries(r._x_transition.enter.start).length||Object.entries(r._x_transition.enter.end).length)?r._x_transition.in(o):u():r._x_transition?r._x_transition.in(o):u();return}r._x_hidePromise=r._x_transition?new Promise((d,h)=>{r._x_transition.out(()=>{},()=>d(l)),r._x_transitioning.beforeCancel(()=>h({isFromCancelledTransition:!0}))}):Promise.resolve(l),queueMicrotask(()=>{let d=qs(r);d?(d._x_hideChildren||(d._x_hideChildren=[]),d._x_hideChildren.push(r)):c(()=>{let h=v=>{let b=Promise.all([v._x_hidePromise,...(v._x_hideChildren||[]).map(h)]).then(([g])=>g());return delete v._x_hidePromise,delete v._x_hideChildren,b};h(r).catch(v=>{if(!v.isFromCancelledTransition)throw v})})})};function qs(r){let s=r.parentNode;if(s)return s._x_hidePromise?s:qs(s)}function cr(r,s,{during:o,start:l,end:c}={},u=()=>{},d=()=>{}){if(r._x_transitioning&&r._x_transitioning.cancel(),Object.keys(o).length===0&&Object.keys(l).length===0&&Object.keys(c).length===0){u(),d();return}let h,v,b;Ju(r,{start(){h=s(r,l)},during(){v=s(r,o)},before:u,end(){h(),b=s(r,c)},after:d,cleanup(){v(),b()}})}function Ju(r,s){let o,l,c,u=lr(()=>{B(()=>{o=!0,l||s.before(),c||(s.end(),ar()),s.after(),r.isConnected&&s.cleanup(),delete r._x_transitioning})});r._x_transitioning={beforeCancels:[],beforeCancel(d){this.beforeCancels.push(d)},cancel:lr(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();u()}),finish:u},B(()=>{s.start(),s.during()}),Uu(),requestAnimationFrame(()=>{if(o)return;let d=Number(getComputedStyle(r).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,h=Number(getComputedStyle(r).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;d===0&&(d=Number(getComputedStyle(r).animationDuration.replace("s",""))*1e3),B(()=>{s.before()}),l=!0,requestAnimationFrame(()=>{o||(B(()=>{s.end()}),ar(),setTimeout(r._x_transitioning.finish,d+h),c=!0)})})}function ve(r,s,o){if(r.indexOf(s)===-1)return o;const l=r[r.indexOf(s)+1];if(!l||s==="scale"&&isNaN(l))return o;if(s==="duration"||s==="delay"){let c=l.match(/([0-9]+)ms/);if(c)return c[1]}return s==="origin"&&["top","right","left","center","bottom"].includes(r[r.indexOf(s)+2])?[l,r[r.indexOf(s)+2]].join(" "):l}var ye=!1;function ke(r,s=()=>{}){return(...o)=>ye?s(...o):r(...o)}function Xu(r){return(...s)=>ye&&r(...s)}function Qu(r,s){s._x_dataStack||(s._x_dataStack=r._x_dataStack),ye=!0,tp(()=>{Zu(s)}),ye=!1}function Zu(r){let s=!1;gt(r,(l,c)=>{bt(l,(u,d)=>{if(s&&$u(u))return d();s=!0,c(u,d)})})}function tp(r){let s=qt;os((o,l)=>{let c=s(o);return Ce(c),()=>{}}),r(),os(s)}function Gs(r,s,o,l=[]){switch(r._x_bindings||(r._x_bindings=zt({})),r._x_bindings[s]=o,s=l.includes("camel")?lp(s):s,s){case"value":ep(r,o);break;case"style":rp(r,o);break;case"class":np(r,o);break;case"selected":case"checked":ip(r,s,o);break;default:Ws(r,s,o);break}}function ep(r,s){if(r.type==="radio")r.attributes.value===void 0&&(r.value=s),window.fromModel&&(r.checked=cs(r.value,s));else if(r.type==="checkbox")Number.isInteger(s)?r.value=s:!Number.isInteger(s)&&!Array.isArray(s)&&typeof s!="boolean"&&![null,void 0].includes(s)?r.value=String(s):Array.isArray(s)?r.checked=s.some(o=>cs(o,r.value)):r.checked=!!s;else if(r.tagName==="SELECT")ap(r,s);else{if(r.value===s)return;r.value=s}}function np(r,s){r._x_undoAddedClasses&&r._x_undoAddedClasses(),r._x_undoAddedClasses=kr(r,s)}function rp(r,s){r._x_undoAddedStyles&&r._x_undoAddedStyles(),r._x_undoAddedStyles=Je(r,s)}function ip(r,s,o){Ws(r,s,o),op(r,s,o)}function Ws(r,s,o){[null,void 0,!1].includes(o)&&cp(s)?r.removeAttribute(s):(Ys(s)&&(o=s),sp(r,s,o))}function sp(r,s,o){r.getAttribute(s)!=o&&r.setAttribute(s,o)}function op(r,s,o){r[s]!==o&&(r[s]=o)}function ap(r,s){const o=[].concat(s).map(l=>l+"");Array.from(r.options).forEach(l=>{l.selected=o.includes(l.value)})}function lp(r){return r.toLowerCase().replace(/-(\w)/g,(s,o)=>o.toUpperCase())}function cs(r,s){return r==s}function Ys(r){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(r)}function cp(r){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(r)}function up(r,s,o){return r._x_bindings&&r._x_bindings[s]!==void 0?r._x_bindings[s]:Js(r,s,o)}function pp(r,s,o,l=!0){if(r._x_bindings&&r._x_bindings[s]!==void 0)return r._x_bindings[s];if(r._x_inlineBindings&&r._x_inlineBindings[s]!==void 0){let c=r._x_inlineBindings[s];return c.extract=l,ks(()=>Lt(r,c.expression))}return Js(r,s,o)}function Js(r,s,o){let l=r.getAttribute(s);return l===null?typeof o=="function"?o():o:l===""?!0:Ys(s)?!![s,"true"].includes(l):l}function Xs(r,s){var o;return function(){var l=this,c=arguments,u=function(){o=null,r.apply(l,c)};clearTimeout(o),o=setTimeout(u,s)}}function Qs(r,s){let o;return function(){let l=this,c=arguments;o||(r.apply(l,c),o=!0,setTimeout(()=>o=!1,s))}}function dp(r){(Array.isArray(r)?r:[r]).forEach(o=>o(Se))}var Vt={},us=!1;function hp(r,s){if(us||(Vt=zt(Vt),us=!0),s===void 0)return Vt[r];Vt[r]=s,typeof s=="object"&&s!==null&&s.hasOwnProperty("init")&&typeof s.init=="function"&&Vt[r].init(),Cs(Vt[r])}function fp(){return Vt}var Zs={};function vp(r,s){let o=typeof s!="function"?()=>s:s;r instanceof Element?to(r,o()):Zs[r]=o}function mp(r){return Object.entries(Zs).forEach(([s,o])=>{Object.defineProperty(r,s,{get(){return(...l)=>o(...l)}})}),r}function to(r,s,o){let l=[];for(;l.length;)l.pop()();let c=Object.entries(s).map(([d,h])=>({name:d,value:h})),u=As(c);c=c.map(d=>u.find(h=>h.name===d.name)?{name:`x-bind:${d.name}`,value:`"${d.value}"`}:d),xr(r,c,o).map(d=>{l.push(d.runCleanups),d()})}var eo={};function bp(r,s){eo[r]=s}function _p(r,s){return Object.entries(eo).forEach(([o,l])=>{Object.defineProperty(r,o,{get(){return(...c)=>l.bind(s)(...c)},enumerable:!1})}),r}var gp={get reactive(){return zt},get release(){return Ce},get effect(){return qt},get raw(){return vs},version:"3.12.3",flushAndStopDeferringMutations:Vu,dontAutoEvaluateFunctions:ks,disableEffectScheduling:gu,startObservingMutations:br,stopObservingMutations:xs,setReactivityEngine:wu,closestDataStack:Ut,skipDuringClone:ke,onlyDuringClone:Xu,addRootSelector:$s,addInitSelector:Ks,addScopeToNode:Ee,deferMutations:Su,mapAttributes:yr,evaluateLater:U,interceptInit:Ku,setEvaluator:Lu,mergeProxies:Pe,extractProp:pp,findClosest:Ye,closestRoot:We,destroyTree:Hs,interceptor:Es,transition:cr,setStyles:Je,mutateDom:B,directive:I,throttle:Qs,debounce:Xs,evaluate:Lt,initTree:gt,nextTick:Pr,prefixed:Gt,prefix:Ru,plugin:dp,magic:J,store:hp,start:Fu,clone:Qu,bound:up,$data:ys,walk:bt,data:bp,bind:vp},Se=gp;function wp(r,s){const o=Object.create(null),l=r.split(",");for(let c=0;c<l.length;c++)o[l[c]]=!0;return s?c=>!!o[c.toLowerCase()]:c=>!!o[c]}var xp=Object.freeze({}),no=Object.assign,yp=Object.prototype.hasOwnProperty,Xe=(r,s)=>yp.call(r,s),Dt=Array.isArray,we=r=>ro(r)==="[object Map]",Cp=r=>typeof r=="string",Sr=r=>typeof r=="symbol",Qe=r=>r!==null&&typeof r=="object",Ep=Object.prototype.toString,ro=r=>Ep.call(r),io=r=>ro(r).slice(8,-1),Vr=r=>Cp(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,Pp=r=>{const s=Object.create(null);return o=>s[o]||(s[o]=r(o))},kp=Pp(r=>r.charAt(0).toUpperCase()+r.slice(1)),so=(r,s)=>r!==s&&(r===r||s===s),ur=new WeakMap,me=[],tt,Ot=Symbol("iterate"),pr=Symbol("Map key iterate");function Sp(r){return r&&r._isEffect===!0}function Vp(r,s=xp){Sp(r)&&(r=r.raw);const o=Lp(r,s);return s.lazy||o(),o}function Ap(r){r.active&&(oo(r),r.options.onStop&&r.options.onStop(),r.active=!1)}var Mp=0;function Lp(r,s){const o=function(){if(!o.active)return r();if(!me.includes(o)){oo(o);try{return Op(),me.push(o),tt=o,r()}finally{me.pop(),ao(),tt=me[me.length-1]}}};return o.id=Mp++,o.allowRecurse=!!s.allowRecurse,o._isEffect=!0,o.active=!0,o.raw=r,o.deps=[],o.options=s,o}function oo(r){const{deps:s}=r;if(s.length){for(let o=0;o<s.length;o++)s[o].delete(r);s.length=0}}var Ht=!0,Ar=[];function Dp(){Ar.push(Ht),Ht=!1}function Op(){Ar.push(Ht),Ht=!0}function ao(){const r=Ar.pop();Ht=r===void 0?!0:r}function Y(r,s,o){if(!Ht||tt===void 0)return;let l=ur.get(r);l||ur.set(r,l=new Map);let c=l.get(o);c||l.set(o,c=new Set),c.has(tt)||(c.add(tt),tt.deps.push(c),tt.options.onTrack&&tt.options.onTrack({effect:tt,target:r,type:s,key:o}))}function wt(r,s,o,l,c,u){const d=ur.get(r);if(!d)return;const h=new Set,v=g=>{g&&g.forEach(_=>{(_!==tt||_.allowRecurse)&&h.add(_)})};if(s==="clear")d.forEach(v);else if(o==="length"&&Dt(r))d.forEach((g,_)=>{(_==="length"||_>=l)&&v(g)});else switch(o!==void 0&&v(d.get(o)),s){case"add":Dt(r)?Vr(o)&&v(d.get("length")):(v(d.get(Ot)),we(r)&&v(d.get(pr)));break;case"delete":Dt(r)||(v(d.get(Ot)),we(r)&&v(d.get(pr)));break;case"set":we(r)&&v(d.get(Ot));break}const b=g=>{g.options.onTrigger&&g.options.onTrigger({effect:g,target:r,key:o,type:s,newValue:l,oldValue:c,oldTarget:u}),g.options.scheduler?g.options.scheduler(g):g()};h.forEach(b)}var Tp=wp("__proto__,__v_isRef,__isVue"),lo=new Set(Object.getOwnPropertyNames(Symbol).map(r=>Symbol[r]).filter(Sr)),Rp=Ze(),Ip=Ze(!1,!0),Np=Ze(!0),Bp=Ze(!0,!0),qe={};["includes","indexOf","lastIndexOf"].forEach(r=>{const s=Array.prototype[r];qe[r]=function(...o){const l=T(this);for(let u=0,d=this.length;u<d;u++)Y(l,"get",u+"");const c=s.apply(l,o);return c===-1||c===!1?s.apply(l,o.map(T)):c}});["push","pop","shift","unshift","splice"].forEach(r=>{const s=Array.prototype[r];qe[r]=function(...o){Dp();const l=s.apply(this,o);return ao(),l}});function Ze(r=!1,s=!1){return function(l,c,u){if(c==="__v_isReactive")return!r;if(c==="__v_isReadonly")return r;if(c==="__v_raw"&&u===(r?s?Wp:Eo:s?Gp:Co).get(l))return l;const d=Dt(l);if(!r&&d&&Xe(qe,c))return Reflect.get(qe,c,u);const h=Reflect.get(l,c,u);return(Sr(c)?lo.has(c):Tp(c))||(r||Y(l,"get",c),s)?h:dr(h)?!d||!Vr(c)?h.value:h:Qe(h)?r?Po(h):Or(h):h}}var jp=co(),Fp=co(!0);function co(r=!1){return function(o,l,c,u){let d=o[l];if(!r&&(c=T(c),d=T(d),!Dt(o)&&dr(d)&&!dr(c)))return d.value=c,!0;const h=Dt(o)&&Vr(l)?Number(l)<o.length:Xe(o,l),v=Reflect.set(o,l,c,u);return o===T(u)&&(h?so(c,d)&&wt(o,"set",l,c,d):wt(o,"add",l,c)),v}}function $p(r,s){const o=Xe(r,s),l=r[s],c=Reflect.deleteProperty(r,s);return c&&o&&wt(r,"delete",s,void 0,l),c}function Kp(r,s){const o=Reflect.has(r,s);return(!Sr(s)||!lo.has(s))&&Y(r,"has",s),o}function Up(r){return Y(r,"iterate",Dt(r)?"length":Ot),Reflect.ownKeys(r)}var uo={get:Rp,set:jp,deleteProperty:$p,has:Kp,ownKeys:Up},po={get:Np,set(r,s){return console.warn(`Set operation on key "${String(s)}" failed: target is readonly.`,r),!0},deleteProperty(r,s){return console.warn(`Delete operation on key "${String(s)}" failed: target is readonly.`,r),!0}};no({},uo,{get:Ip,set:Fp});no({},po,{get:Bp});var Mr=r=>Qe(r)?Or(r):r,Lr=r=>Qe(r)?Po(r):r,Dr=r=>r,tn=r=>Reflect.getPrototypeOf(r);function en(r,s,o=!1,l=!1){r=r.__v_raw;const c=T(r),u=T(s);s!==u&&!o&&Y(c,"get",s),!o&&Y(c,"get",u);const{has:d}=tn(c),h=l?Dr:o?Lr:Mr;if(d.call(c,s))return h(r.get(s));if(d.call(c,u))return h(r.get(u));r!==c&&r.get(s)}function nn(r,s=!1){const o=this.__v_raw,l=T(o),c=T(r);return r!==c&&!s&&Y(l,"has",r),!s&&Y(l,"has",c),r===c?o.has(r):o.has(r)||o.has(c)}function rn(r,s=!1){return r=r.__v_raw,!s&&Y(T(r),"iterate",Ot),Reflect.get(r,"size",r)}function ho(r){r=T(r);const s=T(this);return tn(s).has.call(s,r)||(s.add(r),wt(s,"add",r,r)),this}function fo(r,s){s=T(s);const o=T(this),{has:l,get:c}=tn(o);let u=l.call(o,r);u?yo(o,l,r):(r=T(r),u=l.call(o,r));const d=c.call(o,r);return o.set(r,s),u?so(s,d)&&wt(o,"set",r,s,d):wt(o,"add",r,s),this}function vo(r){const s=T(this),{has:o,get:l}=tn(s);let c=o.call(s,r);c?yo(s,o,r):(r=T(r),c=o.call(s,r));const u=l?l.call(s,r):void 0,d=s.delete(r);return c&&wt(s,"delete",r,void 0,u),d}function mo(){const r=T(this),s=r.size!==0,o=we(r)?new Map(r):new Set(r),l=r.clear();return s&&wt(r,"clear",void 0,void 0,o),l}function sn(r,s){return function(l,c){const u=this,d=u.__v_raw,h=T(d),v=s?Dr:r?Lr:Mr;return!r&&Y(h,"iterate",Ot),d.forEach((b,g)=>l.call(c,v(b),v(g),u))}}function Ke(r,s,o){return function(...l){const c=this.__v_raw,u=T(c),d=we(u),h=r==="entries"||r===Symbol.iterator&&d,v=r==="keys"&&d,b=c[r](...l),g=o?Dr:s?Lr:Mr;return!s&&Y(u,"iterate",v?pr:Ot),{next(){const{value:_,done:k}=b.next();return k?{value:_,done:k}:{value:h?[g(_[0]),g(_[1])]:g(_),done:k}},[Symbol.iterator](){return this}}}}function mt(r){return function(...s){{const o=s[0]?`on key "${s[0]}" `:"";console.warn(`${kp(r)} operation ${o}failed: target is readonly.`,T(this))}return r==="delete"?!1:this}}var bo={get(r){return en(this,r)},get size(){return rn(this)},has:nn,add:ho,set:fo,delete:vo,clear:mo,forEach:sn(!1,!1)},_o={get(r){return en(this,r,!1,!0)},get size(){return rn(this)},has:nn,add:ho,set:fo,delete:vo,clear:mo,forEach:sn(!1,!0)},go={get(r){return en(this,r,!0)},get size(){return rn(this,!0)},has(r){return nn.call(this,r,!0)},add:mt("add"),set:mt("set"),delete:mt("delete"),clear:mt("clear"),forEach:sn(!0,!1)},wo={get(r){return en(this,r,!0,!0)},get size(){return rn(this,!0)},has(r){return nn.call(this,r,!0)},add:mt("add"),set:mt("set"),delete:mt("delete"),clear:mt("clear"),forEach:sn(!0,!0)},Hp=["keys","values","entries",Symbol.iterator];Hp.forEach(r=>{bo[r]=Ke(r,!1,!1),go[r]=Ke(r,!0,!1),_o[r]=Ke(r,!1,!0),wo[r]=Ke(r,!0,!0)});function xo(r,s){const o=s?r?wo:_o:r?go:bo;return(l,c,u)=>c==="__v_isReactive"?!r:c==="__v_isReadonly"?r:c==="__v_raw"?l:Reflect.get(Xe(o,c)&&c in l?o:l,c,u)}var zp={get:xo(!1,!1)},qp={get:xo(!0,!1)};function yo(r,s,o){const l=T(o);if(l!==o&&s.call(r,l)){const c=io(r);console.warn(`Reactive ${c} contains both the raw and reactive versions of the same object${c==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Co=new WeakMap,Gp=new WeakMap,Eo=new WeakMap,Wp=new WeakMap;function Yp(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Jp(r){return r.__v_skip||!Object.isExtensible(r)?0:Yp(io(r))}function Or(r){return r&&r.__v_isReadonly?r:ko(r,!1,uo,zp,Co)}function Po(r){return ko(r,!0,po,qp,Eo)}function ko(r,s,o,l,c){if(!Qe(r))return console.warn(`value cannot be made reactive: ${String(r)}`),r;if(r.__v_raw&&!(s&&r.__v_isReactive))return r;const u=c.get(r);if(u)return u;const d=Jp(r);if(d===0)return r;const h=new Proxy(r,d===2?l:o);return c.set(r,h),h}function T(r){return r&&T(r.__v_raw)||r}function dr(r){return!!(r&&r.__v_isRef===!0)}J("nextTick",()=>Pr);J("dispatch",r=>ge.bind(ge,r));J("watch",(r,{evaluateLater:s,effect:o})=>(l,c)=>{let u=s(l),d=!0,h,v=o(()=>u(b=>{JSON.stringify(b),d?h=b:queueMicrotask(()=>{c(b,h),h=b}),d=!1}));r._x_effects.delete(v)});J("store",fp);J("data",r=>ys(r));J("root",r=>We(r));J("refs",r=>(r._x_refs_proxy||(r._x_refs_proxy=Pe(Xp(r))),r._x_refs_proxy));function Xp(r){let s=[],o=r;for(;o;)o._x_refs&&s.push(o._x_refs),o=o.parentNode;return s}var Yn={};function So(r){return Yn[r]||(Yn[r]=0),++Yn[r]}function Qp(r,s){return Ye(r,o=>{if(o._x_ids&&o._x_ids[s])return!0})}function Zp(r,s){r._x_ids||(r._x_ids={}),r._x_ids[s]||(r._x_ids[s]=So(s))}J("id",r=>(s,o=null)=>{let l=Qp(r,s),c=l?l._x_ids[s]:So(s);return o?`${s}-${c}-${o}`:`${s}-${c}`});J("el",r=>r);Vo("Focus","focus","focus");Vo("Persist","persist","persist");function Vo(r,s,o){J(s,l=>_t(`You can't use [$${directiveName}] without first installing the "${r}" plugin here: https://alpinejs.dev/plugins/${o}`,l))}function td({get:r,set:s},{get:o,set:l}){let c=!0,u,d,h=qt(()=>{let v,b;c?(v=r(),l(v),b=o(),c=!1):(v=r(),b=o(),d=JSON.stringify(v),JSON.stringify(b),d!==u?(b=o(),l(v),b=v):(s(b),v=b)),u=JSON.stringify(v),JSON.stringify(b)});return()=>{Ce(h)}}I("modelable",(r,{expression:s},{effect:o,evaluateLater:l,cleanup:c})=>{let u=l(s),d=()=>{let g;return u(_=>g=_),g},h=l(`${s} = __placeholder`),v=g=>h(()=>{},{scope:{__placeholder:g}}),b=d();v(b),queueMicrotask(()=>{if(!r._x_model)return;r._x_removeModelListeners.default();let g=r._x_model.get,_=r._x_model.set,k=td({get(){return g()},set(R){_(R)}},{get(){return d()},set(R){v(R)}});c(k)})});var ed=document.createElement("div");I("teleport",(r,{modifiers:s,expression:o},{cleanup:l})=>{r.tagName.toLowerCase()!=="template"&&_t("x-teleport can only be used on a <template> tag",r);let c=ke(()=>document.querySelector(o),()=>ed)();c||_t(`Cannot find x-teleport element for selector: "${o}"`);let u=r.content.cloneNode(!0).firstElementChild;r._x_teleport=u,u._x_teleportBack=r,r._x_forwardEvents&&r._x_forwardEvents.forEach(d=>{u.addEventListener(d,h=>{h.stopPropagation(),r.dispatchEvent(new h.constructor(h.type,h))})}),Ee(u,{},r),B(()=>{s.includes("prepend")?c.parentNode.insertBefore(u,c):s.includes("append")?c.parentNode.insertBefore(u,c.nextSibling):c.appendChild(u),gt(u),u._x_ignore=!0}),l(()=>u.remove())});var Ao=()=>{};Ao.inline=(r,{modifiers:s},{cleanup:o})=>{s.includes("self")?r._x_ignoreSelf=!0:r._x_ignore=!0,o(()=>{s.includes("self")?delete r._x_ignoreSelf:delete r._x_ignore})};I("ignore",Ao);I("effect",(r,{expression:s},{effect:o})=>o(U(r,s)));function hr(r,s,o,l){let c=r,u=v=>l(v),d={},h=(v,b)=>g=>b(v,g);if(o.includes("dot")&&(s=nd(s)),o.includes("camel")&&(s=rd(s)),o.includes("passive")&&(d.passive=!0),o.includes("capture")&&(d.capture=!0),o.includes("window")&&(c=window),o.includes("document")&&(c=document),o.includes("debounce")){let v=o[o.indexOf("debounce")+1]||"invalid-wait",b=Ge(v.split("ms")[0])?Number(v.split("ms")[0]):250;u=Xs(u,b)}if(o.includes("throttle")){let v=o[o.indexOf("throttle")+1]||"invalid-wait",b=Ge(v.split("ms")[0])?Number(v.split("ms")[0]):250;u=Qs(u,b)}return o.includes("prevent")&&(u=h(u,(v,b)=>{b.preventDefault(),v(b)})),o.includes("stop")&&(u=h(u,(v,b)=>{b.stopPropagation(),v(b)})),o.includes("self")&&(u=h(u,(v,b)=>{b.target===r&&v(b)})),(o.includes("away")||o.includes("outside"))&&(c=document,u=h(u,(v,b)=>{r.contains(b.target)||b.target.isConnected!==!1&&(r.offsetWidth<1&&r.offsetHeight<1||r._x_isShown!==!1&&v(b))})),o.includes("once")&&(u=h(u,(v,b)=>{v(b),c.removeEventListener(s,u,d)})),u=h(u,(v,b)=>{sd(s)&&od(b,o)||v(b)}),c.addEventListener(s,u,d),()=>{c.removeEventListener(s,u,d)}}function nd(r){return r.replace(/-/g,".")}function rd(r){return r.toLowerCase().replace(/-(\w)/g,(s,o)=>o.toUpperCase())}function Ge(r){return!Array.isArray(r)&&!isNaN(r)}function id(r){return[" ","_"].includes(r)?r:r.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function sd(r){return["keydown","keyup"].includes(r)}function od(r,s){let o=s.filter(u=>!["window","document","prevent","stop","once","capture"].includes(u));if(o.includes("debounce")){let u=o.indexOf("debounce");o.splice(u,Ge((o[u+1]||"invalid-wait").split("ms")[0])?2:1)}if(o.includes("throttle")){let u=o.indexOf("throttle");o.splice(u,Ge((o[u+1]||"invalid-wait").split("ms")[0])?2:1)}if(o.length===0||o.length===1&&ps(r.key).includes(o[0]))return!1;const c=["ctrl","shift","alt","meta","cmd","super"].filter(u=>o.includes(u));return o=o.filter(u=>!c.includes(u)),!(c.length>0&&c.filter(d=>((d==="cmd"||d==="super")&&(d="meta"),r[`${d}Key`])).length===c.length&&ps(r.key).includes(o[0]))}function ps(r){if(!r)return[];r=id(r);let s={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"=",minus:"-",underscore:"_"};return s[r]=r,Object.keys(s).map(o=>{if(s[o]===r)return o}).filter(o=>o)}I("model",(r,{modifiers:s,expression:o},{effect:l,cleanup:c})=>{let u=r;s.includes("parent")&&(u=r.parentNode);let d=U(u,o),h;typeof o=="string"?h=U(u,`${o} = __placeholder`):typeof o=="function"&&typeof o()=="string"?h=U(u,`${o()} = __placeholder`):h=()=>{};let v=()=>{let k;return d(R=>k=R),ds(k)?k.get():k},b=k=>{let R;d(X=>R=X),ds(R)?R.set(k):h(()=>{},{scope:{__placeholder:k}})};typeof o=="string"&&r.type==="radio"&&B(()=>{r.hasAttribute("name")||r.setAttribute("name",o)});var g=r.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(r.type)||s.includes("lazy")?"change":"input";let _=ye?()=>{}:hr(r,g,s,k=>{b(ad(r,s,k,v()))});if(s.includes("fill")&&[null,""].includes(v())&&r.dispatchEvent(new Event(g,{})),r._x_removeModelListeners||(r._x_removeModelListeners={}),r._x_removeModelListeners.default=_,c(()=>r._x_removeModelListeners.default()),r.form){let k=hr(r.form,"reset",[],R=>{Pr(()=>r._x_model&&r._x_model.set(r.value))});c(()=>k())}r._x_model={get(){return v()},set(k){b(k)}},r._x_forceModelUpdate=k=>{k=k===void 0?v():k,k===void 0&&typeof o=="string"&&o.match(/\./)&&(k=""),window.fromModel=!0,B(()=>Gs(r,"value",k)),delete window.fromModel},l(()=>{let k=v();s.includes("unintrusive")&&document.activeElement.isSameNode(r)||r._x_forceModelUpdate(k)})});function ad(r,s,o,l){return B(()=>{if(o instanceof CustomEvent&&o.detail!==void 0)return o.detail??o.target.value;if(r.type==="checkbox")if(Array.isArray(l)){let c=s.includes("number")?Jn(o.target.value):o.target.value;return o.target.checked?l.concat([c]):l.filter(u=>!ld(u,c))}else return o.target.checked;else{if(r.tagName.toLowerCase()==="select"&&r.multiple)return s.includes("number")?Array.from(o.target.selectedOptions).map(c=>{let u=c.value||c.text;return Jn(u)}):Array.from(o.target.selectedOptions).map(c=>c.value||c.text);{let c=o.target.value;return s.includes("number")?Jn(c):s.includes("trim")?c.trim():c}}})}function Jn(r){let s=r?parseFloat(r):null;return cd(s)?s:r}function ld(r,s){return r==s}function cd(r){return!Array.isArray(r)&&!isNaN(r)}function ds(r){return r!==null&&typeof r=="object"&&typeof r.get=="function"&&typeof r.set=="function"}I("cloak",r=>queueMicrotask(()=>B(()=>r.removeAttribute(Gt("cloak")))));Ks(()=>`[${Gt("init")}]`);I("init",ke((r,{expression:s},{evaluate:o})=>typeof s=="string"?!!s.trim()&&o(s,{},!1):o(s,{},!1)));I("text",(r,{expression:s},{effect:o,evaluateLater:l})=>{let c=l(s);o(()=>{c(u=>{B(()=>{r.textContent=u})})})});I("html",(r,{expression:s},{effect:o,evaluateLater:l})=>{let c=l(s);o(()=>{c(u=>{B(()=>{r.innerHTML=u,r._x_ignoreSelf=!0,gt(r),delete r._x_ignoreSelf})})})});yr(Ds(":",Os(Gt("bind:"))));var Mo=(r,{value:s,modifiers:o,expression:l,original:c},{effect:u})=>{if(!s){let h={};mp(h),U(r,l)(b=>{to(r,b,c)},{scope:h});return}if(s==="key")return ud(r,l);if(r._x_inlineBindings&&r._x_inlineBindings[s]&&r._x_inlineBindings[s].extract)return;let d=U(r,l);u(()=>d(h=>{h===void 0&&typeof l=="string"&&l.match(/\./)&&(h=""),B(()=>Gs(r,s,h,o))}))};Mo.inline=(r,{value:s,modifiers:o,expression:l})=>{s&&(r._x_inlineBindings||(r._x_inlineBindings={}),r._x_inlineBindings[s]={expression:l,extract:!1})};I("bind",Mo);function ud(r,s){r._x_keyExpression=s}$s(()=>`[${Gt("data")}]`);I("data",ke((r,{expression:s},{cleanup:o})=>{s=s===""?"{}":s;let l={};nr(l,r);let c={};_p(c,l);let u=Lt(r,s,{scope:c});(u===void 0||u===!0)&&(u={}),nr(u,r);let d=zt(u);Cs(d);let h=Ee(r,d);d.init&&Lt(r,d.init),o(()=>{d.destroy&&Lt(r,d.destroy),h()})}));I("show",(r,{modifiers:s,expression:o},{effect:l})=>{let c=U(r,o);r._x_doHide||(r._x_doHide=()=>{B(()=>{r.style.setProperty("display","none",s.includes("important")?"important":void 0)})}),r._x_doShow||(r._x_doShow=()=>{B(()=>{r.style.length===1&&r.style.display==="none"?r.removeAttribute("style"):r.style.removeProperty("display")})});let u=()=>{r._x_doHide(),r._x_isShown=!1},d=()=>{r._x_doShow(),r._x_isShown=!0},h=()=>setTimeout(d),v=lr(_=>_?d():u(),_=>{typeof r._x_toggleAndCascadeWithTransitions=="function"?r._x_toggleAndCascadeWithTransitions(r,_,d,u):_?h():u()}),b,g=!0;l(()=>c(_=>{!g&&_===b||(s.includes("immediate")&&(_?h():u()),v(_),b=_,g=!1)}))});I("for",(r,{expression:s},{effect:o,cleanup:l})=>{let c=dd(s),u=U(r,c.items),d=U(r,r._x_keyExpression||"index");r._x_prevKeys=[],r._x_lookup={},o(()=>pd(r,c,u,d)),l(()=>{Object.values(r._x_lookup).forEach(h=>h.remove()),delete r._x_prevKeys,delete r._x_lookup})});function pd(r,s,o,l){let c=d=>typeof d=="object"&&!Array.isArray(d),u=r;o(d=>{hd(d)&&d>=0&&(d=Array.from(Array(d).keys(),x=>x+1)),d===void 0&&(d=[]);let h=r._x_lookup,v=r._x_prevKeys,b=[],g=[];if(c(d))d=Object.entries(d).map(([x,L])=>{let P=hs(s,L,x,d);l(j=>g.push(j),{scope:{index:x,...P}}),b.push(P)});else for(let x=0;x<d.length;x++){let L=hs(s,d[x],x,d);l(P=>g.push(P),{scope:{index:x,...L}}),b.push(L)}let _=[],k=[],R=[],X=[];for(let x=0;x<v.length;x++){let L=v[x];g.indexOf(L)===-1&&R.push(L)}v=v.filter(x=>!R.includes(x));let S="template";for(let x=0;x<g.length;x++){let L=g[x],P=v.indexOf(L);if(P===-1)v.splice(x,0,L),_.push([S,x]);else if(P!==x){let j=v.splice(x,1)[0],C=v.splice(P-1,1)[0];v.splice(x,0,C),v.splice(P,0,j),k.push([j,C])}else X.push(L);S=L}for(let x=0;x<R.length;x++){let L=R[x];h[L]._x_effects&&h[L]._x_effects.forEach(fs),h[L].remove(),h[L]=null,delete h[L]}for(let x=0;x<k.length;x++){let[L,P]=k[x],j=h[L],C=h[P],at=document.createElement("div");B(()=>{C||_t('x-for ":key" is undefined or invalid',u),C.after(at),j.after(C),C._x_currentIfEl&&C.after(C._x_currentIfEl),at.before(j),j._x_currentIfEl&&j.after(j._x_currentIfEl),at.remove()}),C._x_refreshXForScope(b[g.indexOf(P)])}for(let x=0;x<_.length;x++){let[L,P]=_[x],j=L==="template"?u:h[L];j._x_currentIfEl&&(j=j._x_currentIfEl);let C=b[P],at=g[P],xt=document.importNode(u.content,!0).firstElementChild,z=zt(C);Ee(xt,z,u),xt._x_refreshXForScope=q=>{Object.entries(q).forEach(([an,lt])=>{z[an]=lt})},B(()=>{j.after(xt),gt(xt)}),typeof at=="object"&&_t("x-for key cannot be an object, it must be a string or an integer",u),h[at]=xt}for(let x=0;x<X.length;x++)h[X[x]]._x_refreshXForScope(b[g.indexOf(X[x])]);u._x_prevKeys=g})}function dd(r){let s=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,o=/^\s*\(|\)\s*$/g,l=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,c=r.match(l);if(!c)return;let u={};u.items=c[2].trim();let d=c[1].replace(o,"").trim(),h=d.match(s);return h?(u.item=d.replace(s,"").trim(),u.index=h[1].trim(),h[2]&&(u.collection=h[2].trim())):u.item=d,u}function hs(r,s,o,l){let c={};return/^\[.*\]$/.test(r.item)&&Array.isArray(s)?r.item.replace("[","").replace("]","").split(",").map(d=>d.trim()).forEach((d,h)=>{c[d]=s[h]}):/^\{.*\}$/.test(r.item)&&!Array.isArray(s)&&typeof s=="object"?r.item.replace("{","").replace("}","").split(",").map(d=>d.trim()).forEach(d=>{c[d]=s[d]}):c[r.item]=s,r.index&&(c[r.index]=o),r.collection&&(c[r.collection]=l),c}function hd(r){return!Array.isArray(r)&&!isNaN(r)}function Lo(){}Lo.inline=(r,{expression:s},{cleanup:o})=>{let l=We(r);l._x_refs||(l._x_refs={}),l._x_refs[s]=r,o(()=>delete l._x_refs[s])};I("ref",Lo);I("if",(r,{expression:s},{effect:o,cleanup:l})=>{let c=U(r,s),u=()=>{if(r._x_currentIfEl)return r._x_currentIfEl;let h=r.content.cloneNode(!0).firstElementChild;return Ee(h,{},r),B(()=>{r.after(h),gt(h)}),r._x_currentIfEl=h,r._x_undoIf=()=>{bt(h,v=>{v._x_effects&&v._x_effects.forEach(fs)}),h.remove(),delete r._x_currentIfEl},h},d=()=>{r._x_undoIf&&(r._x_undoIf(),delete r._x_undoIf)};o(()=>c(h=>{h?u():d()})),l(()=>r._x_undoIf&&r._x_undoIf())});I("id",(r,{expression:s},{evaluate:o})=>{o(s).forEach(c=>Zp(r,c))});yr(Ds("@",Os(Gt("on:"))));I("on",ke((r,{value:s,modifiers:o,expression:l},{cleanup:c})=>{let u=l?U(r,l):()=>{};r.tagName.toLowerCase()==="template"&&(r._x_forwardEvents||(r._x_forwardEvents=[]),r._x_forwardEvents.includes(s)||r._x_forwardEvents.push(s));let d=hr(r,s,o,h=>{u(()=>{},{scope:{$event:h},params:[h]})});c(()=>d())}));on("Collapse","collapse","collapse");on("Intersect","intersect","intersect");on("Focus","trap","focus");on("Mask","mask","mask");function on(r,s,o){I(s,l=>_t(`You can't use [x-${s}] without first installing the "${r}" plugin here: https://alpinejs.dev/plugins/${o}`,l))}Se.setEvaluator(Vs);Se.setReactivityEngine({reactive:Or,effect:Vp,release:Ap,raw:T});var fd=Se,Do=fd;var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fr={exports:{}};/*! Tweakpane 3.1.10 (c) 2016 cocopon, licensed under the MIT license. */(function(r,s){(function(o,l){l(s)})(vd,function(o){class l{constructor(t){const[e,i]=t.split("-"),a=e.split(".");this.major=parseInt(a[0],10),this.minor=parseInt(a[1],10),this.patch=parseInt(a[2],10),this.prerelease=i??null}toString(){const t=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[t,this.prerelease].join("-"):t}}class c{constructor(t){this.controller_=t}get element(){return this.controller_.view.element}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(t){this.controller_.viewProps.set("disabled",t)}get hidden(){return this.controller_.viewProps.get("hidden")}set hidden(t){this.controller_.viewProps.set("hidden",t)}dispose(){this.controller_.viewProps.set("disposed",!0)}}class u{constructor(t){this.target=t}}class d extends u{constructor(t,e,i,a){super(t),this.value=e,this.presetKey=i,this.last=a??!0}}class h extends u{constructor(t,e,i){super(t),this.value=e,this.presetKey=i}}class v extends u{constructor(t,e){super(t),this.expanded=e}}class b extends u{constructor(t,e){super(t),this.index=e}}function g(n){return n}function _(n){return n==null}function k(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(n[e]!==t[e])return!1;return!0}function R(n,t){let e=n;do{const i=Object.getOwnPropertyDescriptor(e,t);if(i&&(i.set!==void 0||i.writable===!0))return!0;e=Object.getPrototypeOf(e)}while(e!==null);return!1}const X={alreadydisposed:()=>"View has been already disposed",invalidparams:n=>`Invalid parameters for '${n.name}'`,nomatchingcontroller:n=>`No matching controller for '${n.key}'`,nomatchingview:n=>`No matching view for '${JSON.stringify(n.params)}'`,notbindable:()=>"Value is not bindable",propertynotfound:n=>`Property '${n.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class S{static alreadyDisposed(){return new S({type:"alreadydisposed"})}static notBindable(){return new S({type:"notbindable"})}static propertyNotFound(t){return new S({type:"propertynotfound",context:{name:t}})}static shouldNeverHappen(){return new S({type:"shouldneverhappen"})}constructor(t){var e;this.message=(e=X[t.type](t.context))!==null&&e!==void 0?e:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=t.type}}class x{constructor(t,e,i){this.obj_=t,this.key_=e,this.presetKey_=i??e}static isBindable(t){return!(t===null||typeof t!="object"&&typeof t!="function")}get key(){return this.key_}get presetKey(){return this.presetKey_}read(){return this.obj_[this.key_]}write(t){this.obj_[this.key_]=t}writeProperty(t,e){const i=this.read();if(!x.isBindable(i))throw S.notBindable();if(!(t in i))throw S.propertyNotFound(t);i[t]=e}}class L extends c{get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get title(){var t;return(t=this.controller_.valueController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller_.valueController.props.set("title",t)}on(t,e){const i=e.bind(this);return this.controller_.valueController.emitter.on(t,()=>{i(new u(this))}),this}}class P{constructor(){this.observers_={}}on(t,e){let i=this.observers_[t];return i||(i=this.observers_[t]=[]),i.push({handler:e}),this}off(t,e){const i=this.observers_[t];return i&&(this.observers_[t]=i.filter(a=>a.handler!==e)),this}emit(t,e){const i=this.observers_[t];i&&i.forEach(a=>{a.handler(e)})}}const j="tp";function C(n){return(e,i)=>[j,"-",n,"v",e?`_${e}`:"",i?`-${i}`:""].join("")}function at(n,t){return e=>t(n(e))}function xt(n){return n.rawValue}function z(n,t){n.emitter.on("change",at(xt,t)),t(n.rawValue)}function q(n,t,e){z(n.value(t),e)}function an(n,t,e){e?n.classList.add(t):n.classList.remove(t)}function lt(n,t){return e=>{an(n,t,e)}}function ln(n,t){z(n,e=>{t.textContent=e??""})}const cn=C("btn");class To{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(cn()),e.viewProps.bindClassModifiers(this.element);const i=t.createElement("button");i.classList.add(cn("b")),e.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;const a=t.createElement("div");a.classList.add(cn("t")),ln(e.props.value("title"),a),this.buttonElement.appendChild(a)}}class Tr{constructor(t,e){this.emitter=new P,this.onClick_=this.onClick_.bind(this),this.props=e.props,this.viewProps=e.viewProps,this.view=new To(t,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class Ro{constructor(t,e){var i;this.constraint_=e==null?void 0:e.constraint,this.equals_=(i=e==null?void 0:e.equals)!==null&&i!==void 0?i:(a,p)=>a===p,this.emitter=new P,this.rawValue_=t}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,e){const i=e??{forceEmit:!1,last:!0},a=this.constraint_?this.constraint_.constrain(t):t,p=this.rawValue_;this.equals_(p,a)&&!i.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=a,this.emitter.emit("change",{options:i,previousRawValue:p,rawValue:a,sender:this}))}}class Io{constructor(t){this.emitter=new P,this.value_=t}get rawValue(){return this.value_}set rawValue(t){this.setRawValue(t,{forceEmit:!1,last:!0})}setRawValue(t,e){const i=e??{forceEmit:!1,last:!0},a=this.value_;a===t&&!i.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=t,this.emitter.emit("change",{options:i,previousRawValue:a,rawValue:this.value_,sender:this}))}}function F(n,t){const e=t==null?void 0:t.constraint,i=t==null?void 0:t.equals;return!e&&!i?new Io(n):new Ro(n,t)}class E{constructor(t){this.emitter=new P,this.valMap_=t;for(const e in this.valMap_)this.valMap_[e].emitter.on("change",()=>{this.emitter.emit("change",{key:e,sender:this})})}static createCore(t){return Object.keys(t).reduce((i,a)=>Object.assign(i,{[a]:F(t[a])}),{})}static fromObject(t){const e=this.createCore(t);return new E(e)}get(t){return this.valMap_[t].rawValue}set(t,e){this.valMap_[t].rawValue=e}value(t){return this.valMap_[t]}}function No(n,t){const i=Object.keys(t).reduce((a,p)=>{if(a===void 0)return;const f=t[p],m=f(n[p]);return m.succeeded?Object.assign(Object.assign({},a),{[p]:m.value}):void 0},{});return i}function Bo(n,t){return n.reduce((e,i)=>{if(e===void 0)return;const a=t(i);if(!(!a.succeeded||a.value===void 0))return[...e,a.value]},[])}function jo(n){return n===null?!1:typeof n=="object"}function et(n){return t=>e=>{if(!t&&e===void 0)return{succeeded:!1,value:void 0};if(t&&e===void 0)return{succeeded:!0,value:void 0};const i=n(e);return i!==void 0?{succeeded:!0,value:i}:{succeeded:!1,value:void 0}}}function Rr(n){return{custom:t=>et(t)(n),boolean:et(t=>typeof t=="boolean"?t:void 0)(n),number:et(t=>typeof t=="number"?t:void 0)(n),string:et(t=>typeof t=="string"?t:void 0)(n),function:et(t=>typeof t=="function"?t:void 0)(n),constant:t=>et(e=>e===t?t:void 0)(n),raw:et(t=>t)(n),object:t=>et(e=>{if(jo(e))return No(e,t)})(n),array:t=>et(e=>{if(Array.isArray(e))return Bo(e,t)})(n)}}const D={optional:Rr(!0),required:Rr(!1)};function $(n,t){const e=D.required.object(t)(n);return e.succeeded?e.value:void 0}function un(n){console.warn([`Missing '${n.key}' of ${n.target} in ${n.place}.`,"Please rebuild plugins with the latest core package."].join(" "))}function Fo(n){return n&&n.parentElement&&n.parentElement.removeChild(n),null}class pn{constructor(t){this.value_=t}static create(t){return[new pn(t),(e,i)=>{t.setRawValue(e,i)}]}get emitter(){return this.value_.emitter}get rawValue(){return this.value_.rawValue}}const $o=C("");function Ir(n,t){return lt(n,$o(void 0,t))}class nt extends E{constructor(t){var e;super(t),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=pn.create(F(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(e=this.get("parent"))===null||e===void 0||e.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(t){var e,i,a;const p=t??{};return new nt(E.createCore({disabled:(e=p.disabled)!==null&&e!==void 0?e:!1,disposed:!1,hidden:(i=p.hidden)!==null&&i!==void 0?i:!1,parent:(a=p.parent)!==null&&a!==void 0?a:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(t){z(this.globalDisabled_,Ir(t,"disabled")),q(this,"hidden",Ir(t,"hidden"))}bindDisabled(t){z(this.globalDisabled_,e=>{t.disabled=e})}bindTabIndex(t){z(this.globalDisabled_,e=>{t.tabIndex=e?-1:0})}handleDispose(t){this.value("disposed").emitter.on("change",e=>{e&&t()})}getGlobalDisabled_(){const t=this.get("parent");return(t?t.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(t){var e;const i=t.previousRawValue;i==null||i.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(e=this.get("parent"))===null||e===void 0||e.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}function Ko(){return["veryfirst","first","last","verylast"]}const Nr=C(""),Br={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class Wt{constructor(t){this.parent_=null,this.blade=t.blade,this.view=t.view,this.viewProps=t.viewProps;const e=this.view.element;this.blade.value("positions").emitter.on("change",()=>{Ko().forEach(i=>{e.classList.remove(Nr(void 0,Br[i]))}),this.blade.get("positions").forEach(i=>{e.classList.add(Nr(void 0,Br[i]))})}),this.viewProps.handleDispose(()=>{Fo(e)})}get parent(){return this.parent_}set parent(t){if(this.parent_=t,!("parent"in this.viewProps.valMap_)){un({key:"parent",target:nt.name,place:"BladeController.parent"});return}this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}}const Q="http://www.w3.org/2000/svg";function Ve(n){n.offsetHeight}function Uo(n,t){const e=n.style.transition;n.style.transition="none",t(),n.style.transition=e}function dn(n){return n.ontouchstart!==void 0}function Ho(){return globalThis}function zo(){return Ho().document}function qo(n){const t=n.ownerDocument.defaultView;return t&&"document"in t?n.getContext("2d",{willReadFrequently:!0}):null}const Go={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function Ae(n,t){const e=n.createElementNS(Q,"svg");return e.innerHTML=Go[t],e}function jr(n,t,e){n.insertBefore(t,n.children[e])}function Fr(n){n.parentElement&&n.parentElement.removeChild(n)}function $r(n){for(;n.children.length>0;)n.removeChild(n.children[0])}function Wo(n){for(;n.childNodes.length>0;)n.removeChild(n.childNodes[0])}function Kr(n){return n.relatedTarget?n.relatedTarget:"explicitOriginalTarget"in n?n.explicitOriginalTarget:null}const Yt=C("lbl");function Yo(n,t){const e=n.createDocumentFragment();return t.split(`
`).map(a=>n.createTextNode(a)).forEach((a,p)=>{p>0&&e.appendChild(n.createElement("br")),e.appendChild(a)}),e}class Ur{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Yt()),e.viewProps.bindClassModifiers(this.element);const i=t.createElement("div");i.classList.add(Yt("l")),q(e.props,"label",p=>{_(p)?this.element.classList.add(Yt(void 0,"nol")):(this.element.classList.remove(Yt(void 0,"nol")),Wo(i),i.appendChild(Yo(t,p)))}),this.element.appendChild(i),this.labelElement=i;const a=t.createElement("div");a.classList.add(Yt("v")),this.element.appendChild(a),this.valueElement=a}}class Me extends Wt{constructor(t,e){const i=e.valueController.viewProps;super(Object.assign(Object.assign({},e),{view:new Ur(t,{props:e.props,viewProps:i}),viewProps:i})),this.props=e.props,this.valueController=e.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}const Jo={id:"button",type:"blade",accept(n){const t=D,e=$(n,{title:t.required.string,view:t.required.constant("button"),label:t.optional.string});return e?{params:e}:null},controller(n){return new Me(n.document,{blade:n.blade,props:E.fromObject({label:n.params.label}),valueController:new Tr(n.document,{props:E.fromObject({title:n.params.title}),viewProps:n.viewProps})})},api(n){return!(n.controller instanceof Me)||!(n.controller.valueController instanceof Tr)?null:new L(n.controller)}};class Tt extends Wt{constructor(t){super(t),this.value=t.value}}function Jt(){return new E({positions:F([],{equals:k})})}class Xt extends E{constructor(t){super(t)}static create(t){const e={completed:!0,expanded:t,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},i=E.createCore(e);return new Xt(i)}get styleExpanded(){var t;return(t=this.get("temporaryExpanded"))!==null&&t!==void 0?t:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const t=this.get("expandedHeight");return this.get("shouldFixHeight")&&!_(t)?`${t}px`:"auto"}bindExpandedClass(t,e){const i=()=>{this.styleExpanded?t.classList.add(e):t.classList.remove(e)};q(this,"expanded",i),q(this,"temporaryExpanded",i)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function Xo(n,t){let e=0;return Uo(t,()=>{n.set("expandedHeight",null),n.set("temporaryExpanded",!0),Ve(t),e=t.clientHeight,n.set("temporaryExpanded",null),Ve(t)}),e}function Hr(n,t){t.style.height=n.styleHeight}function hn(n,t){n.value("expanded").emitter.on("beforechange",()=>{if(n.set("completed",!1),_(n.get("expandedHeight"))){const e=Xo(n,t);e>0&&n.set("expandedHeight",e)}n.set("shouldFixHeight",!0),Ve(t)}),n.emitter.on("change",()=>{Hr(n,t)}),Hr(n,t),t.addEventListener("transitionend",e=>{e.propertyName==="height"&&n.cleanUpTransition()})}class fn extends c{constructor(t,e){super(t),this.rackApi_=e}}function Qo(n,t){return n.addBlade(Object.assign(Object.assign({},t),{view:"button"}))}function Zo(n,t){return n.addBlade(Object.assign(Object.assign({},t),{view:"folder"}))}function ta(n,t){const e=t??{};return n.addBlade(Object.assign(Object.assign({},e),{view:"separator"}))}function ea(n,t){return n.addBlade(Object.assign(Object.assign({},t),{view:"tab"}))}class vn{constructor(t){this.emitter=new P,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=t}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(t){for(const e of this.allItems())if(t(e))return e;return null}includes(t){return this.cache_.has(t)}add(t,e){if(this.includes(t))throw S.shouldNeverHappen();const i=e!==void 0?e:this.items_.length;this.items_.splice(i,0,t),this.cache_.add(t);const a=this.extract_(t);a&&(a.emitter.on("add",this.onSubListAdd_),a.emitter.on("remove",this.onSubListRemove_),a.allItems().forEach(p=>{this.cache_.add(p)})),this.emitter.emit("add",{index:i,item:t,root:this,target:this})}remove(t){const e=this.items_.indexOf(t);if(e<0)return;this.items_.splice(e,1),this.cache_.delete(t);const i=this.extract_(t);i&&(i.emitter.off("add",this.onSubListAdd_),i.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:e,item:t,root:this,target:this})}onSubListAdd_(t){this.cache_.add(t.item),this.emitter.emit("add",{index:t.index,item:t.item,root:this,target:t.target})}onSubListRemove_(t){this.cache_.delete(t.item),this.emitter.emit("remove",{index:t.index,item:t.item,root:this,target:t.target})}}class mn extends c{constructor(t){super(t),this.onBindingChange_=this.onBindingChange_.bind(this),this.emitter_=new P,this.controller_.binding.emitter.on("change",this.onBindingChange_)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}on(t,e){const i=e.bind(this);return this.emitter_.on(t,a=>{i(a.event)}),this}refresh(){this.controller_.binding.read()}onBindingChange_(t){const e=t.sender.target.read();this.emitter_.emit("change",{event:new d(this,e,this.controller_.binding.target.presetKey,t.options.last)})}}class Z extends Me{constructor(t,e){super(t,e),this.binding=e.binding}}class bn extends c{constructor(t){super(t),this.onBindingUpdate_=this.onBindingUpdate_.bind(this),this.emitter_=new P,this.controller_.binding.emitter.on("update",this.onBindingUpdate_)}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}on(t,e){const i=e.bind(this);return this.emitter_.on(t,a=>{i(a.event)}),this}refresh(){this.controller_.binding.read()}onBindingUpdate_(t){const e=t.sender.target.read();this.emitter_.emit("update",{event:new h(this,e,this.controller_.binding.target.presetKey)})}}class ct extends Me{constructor(t,e){super(t,e),this.binding=e.binding,this.viewProps.bindDisabled(this.binding.ticker),this.viewProps.handleDispose(()=>{this.binding.dispose()})}}function na(n){return n instanceof Le?n.apiSet_:n instanceof fn?n.rackApi_.apiSet_:null}function Qt(n,t){const e=n.find(i=>i.controller_===t);if(!e)throw S.shouldNeverHappen();return e}function zr(n,t,e){if(!x.isBindable(n))throw S.notBindable();return new x(n,t,e)}class Le extends c{constructor(t,e){super(t),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.onRackInputChange_=this.onRackInputChange_.bind(this),this.onRackMonitorUpdate_=this.onRackMonitorUpdate_.bind(this),this.emitter_=new P,this.apiSet_=new vn(na),this.pool_=e;const i=this.controller_.rack;i.emitter.on("add",this.onRackAdd_),i.emitter.on("remove",this.onRackRemove_),i.emitter.on("inputchange",this.onRackInputChange_),i.emitter.on("monitorupdate",this.onRackMonitorUpdate_),i.children.forEach(a=>{this.setUpApi_(a)})}get children(){return this.controller_.rack.children.map(t=>Qt(this.apiSet_,t))}addInput(t,e,i){const a=i??{},p=this.controller_.view.element.ownerDocument,f=this.pool_.createInput(p,zr(t,e,a.presetKey),a),m=new mn(f);return this.add(m,a.index)}addMonitor(t,e,i){const a=i??{},p=this.controller_.view.element.ownerDocument,f=this.pool_.createMonitor(p,zr(t,e),a),m=new bn(f);return this.add(m,a.index)}addFolder(t){return Zo(this,t)}addButton(t){return Qo(this,t)}addSeparator(t){return ta(this,t)}addTab(t){return ea(this,t)}add(t,e){this.controller_.rack.add(t.controller_,e);const i=this.apiSet_.find(a=>a.controller_===t.controller_);return i&&this.apiSet_.remove(i),this.apiSet_.add(t),t}remove(t){this.controller_.rack.remove(t.controller_)}addBlade(t){const e=this.controller_.view.element.ownerDocument,i=this.pool_.createBlade(e,t),a=this.pool_.createBladeApi(i);return this.add(a,t.index)}on(t,e){const i=e.bind(this);return this.emitter_.on(t,a=>{i(a.event)}),this}setUpApi_(t){this.apiSet_.find(i=>i.controller_===t)||this.apiSet_.add(this.pool_.createBladeApi(t))}onRackAdd_(t){this.setUpApi_(t.bladeController)}onRackRemove_(t){if(t.isRoot){const e=Qt(this.apiSet_,t.bladeController);this.apiSet_.remove(e)}}onRackInputChange_(t){const e=t.bladeController;if(e instanceof Z){const i=Qt(this.apiSet_,e),a=e.binding;this.emitter_.emit("change",{event:new d(i,a.target.read(),a.target.presetKey,t.options.last)})}else if(e instanceof Tt){const i=Qt(this.apiSet_,e);this.emitter_.emit("change",{event:new d(i,e.value.rawValue,void 0,t.options.last)})}}onRackMonitorUpdate_(t){if(!(t.bladeController instanceof ct))throw S.shouldNeverHappen();const e=Qt(this.apiSet_,t.bladeController),i=t.bladeController.binding;this.emitter_.emit("update",{event:new h(e,i.target.read(),i.target.presetKey)})}}class _n extends fn{constructor(t,e){super(t,new Le(t.rackController,e)),this.emitter_=new P,this.controller_.foldable.value("expanded").emitter.on("change",i=>{this.emitter_.emit("fold",{event:new v(this,i.sender.rawValue)})}),this.rackApi_.on("change",i=>{this.emitter_.emit("change",{event:i})}),this.rackApi_.on("update",i=>{this.emitter_.emit("update",{event:i})})}get expanded(){return this.controller_.foldable.get("expanded")}set expanded(t){this.controller_.foldable.set("expanded",t)}get title(){return this.controller_.props.get("title")}set title(t){this.controller_.props.set("title",t)}get children(){return this.rackApi_.children}addInput(t,e,i){return this.rackApi_.addInput(t,e,i)}addMonitor(t,e,i){return this.rackApi_.addMonitor(t,e,i)}addFolder(t){return this.rackApi_.addFolder(t)}addButton(t){return this.rackApi_.addButton(t)}addSeparator(t){return this.rackApi_.addSeparator(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,e){return this.rackApi_.add(t,e)}remove(t){this.rackApi_.remove(t)}addBlade(t){return this.rackApi_.addBlade(t)}on(t,e){const i=e.bind(this);return this.emitter_.on(t,a=>{i(a.event)}),this}}class gn extends Wt{constructor(t){super({blade:t.blade,view:t.view,viewProps:t.rackController.viewProps}),this.rackController=t.rackController}}class ra{constructor(t,e){const i=C(e.viewName);this.element=t.createElement("div"),this.element.classList.add(i()),e.viewProps.bindClassModifiers(this.element)}}function ia(n,t){for(let e=0;e<n.length;e++){const i=n[e];if(i instanceof Z&&i.binding===t)return i}return null}function sa(n,t){for(let e=0;e<n.length;e++){const i=n[e];if(i instanceof ct&&i.binding===t)return i}return null}function oa(n,t){for(let e=0;e<n.length;e++){const i=n[e];if(i instanceof Tt&&i.value===t)return i}return null}function wn(n){return n instanceof Zt?n.rack:n instanceof gn?n.rackController.rack:null}function aa(n){const t=wn(n);return t?t.bcSet_:null}class la{constructor(t){var e,i;this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildInputChange_=this.onChildInputChange_.bind(this),this.onChildMonitorUpdate_=this.onChildMonitorUpdate_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onDescendantLayout_=this.onDescendantLayout_.bind(this),this.onDescendantInputChange_=this.onDescendantInputChange_.bind(this),this.onDescendantMonitorUpdate_=this.onDescendantMonitorUpdate_.bind(this),this.emitter=new P,this.blade_=(e=t.blade)!==null&&e!==void 0?e:null,(i=this.blade_)===null||i===void 0||i.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=t.viewProps,this.bcSet_=new vn(aa),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(t,e){var i;(i=t.parent)===null||i===void 0||i.remove(t),R(t,"parent")?t.parent=this:(t.parent_=this,un({key:"parent",target:"BladeController",place:"BladeRack.add"})),this.bcSet_.add(t,e)}remove(t){R(t,"parent")?t.parent=null:(t.parent_=null,un({key:"parent",target:"BladeController",place:"BladeRack.remove"})),this.bcSet_.remove(t)}find(t){return this.bcSet_.allItems().filter(e=>e instanceof t)}onSetAdd_(t){this.updatePositions_();const e=t.target===t.root;if(this.emitter.emit("add",{bladeController:t.item,index:t.index,isRoot:e,sender:this}),!e)return;const i=t.item;if(i.viewProps.emitter.on("change",this.onChildViewPropsChange_),i.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),i.viewProps.handleDispose(this.onChildDispose_),i instanceof Z)i.binding.emitter.on("change",this.onChildInputChange_);else if(i instanceof ct)i.binding.emitter.on("update",this.onChildMonitorUpdate_);else if(i instanceof Tt)i.value.emitter.on("change",this.onChildValueChange_);else{const a=wn(i);if(a){const p=a.emitter;p.on("layout",this.onDescendantLayout_),p.on("inputchange",this.onDescendantInputChange_),p.on("monitorupdate",this.onDescendantMonitorUpdate_)}}}onSetRemove_(t){this.updatePositions_();const e=t.target===t.root;if(this.emitter.emit("remove",{bladeController:t.item,isRoot:e,sender:this}),!e)return;const i=t.item;if(i instanceof Z)i.binding.emitter.off("change",this.onChildInputChange_);else if(i instanceof ct)i.binding.emitter.off("update",this.onChildMonitorUpdate_);else if(i instanceof Tt)i.value.emitter.off("change",this.onChildValueChange_);else{const a=wn(i);if(a){const p=a.emitter;p.off("layout",this.onDescendantLayout_),p.off("inputchange",this.onDescendantInputChange_),p.off("monitorupdate",this.onDescendantMonitorUpdate_)}}}updatePositions_(){const t=this.bcSet_.items.filter(a=>!a.viewProps.get("hidden")),e=t[0],i=t[t.length-1];this.bcSet_.items.forEach(a=>{const p=[];a===e&&(p.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&p.push("veryfirst")),a===i&&(p.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&p.push("verylast")),a.blade.set("positions",p)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(e=>e.viewProps.get("disposed")).forEach(e=>{this.bcSet_.remove(e)})}onChildInputChange_(t){const e=ia(this.find(Z),t.sender);if(!e)throw S.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:e,options:t.options,sender:this})}onChildMonitorUpdate_(t){const e=sa(this.find(ct),t.sender);if(!e)throw S.alreadyDisposed();this.emitter.emit("monitorupdate",{bladeController:e,sender:this})}onChildValueChange_(t){const e=oa(this.find(Tt),t.sender);if(!e)throw S.alreadyDisposed();this.emitter.emit("inputchange",{bladeController:e,options:t.options,sender:this})}onDescendantLayout_(t){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onDescendantInputChange_(t){this.emitter.emit("inputchange",{bladeController:t.bladeController,options:t.options,sender:this})}onDescendantMonitorUpdate_(t){this.emitter.emit("monitorupdate",{bladeController:t.bladeController,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class Zt extends Wt{constructor(t,e){super(Object.assign(Object.assign({},e),{view:new ra(t,{viewName:"brk",viewProps:e.viewProps})})),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const i=new la({blade:e.root?void 0:e.blade,viewProps:e.viewProps});i.emitter.on("add",this.onRackAdd_),i.emitter.on("remove",this.onRackRemove_),this.rack=i,this.viewProps.handleDispose(()=>{for(let a=this.rack.children.length-1;a>=0;a--)this.rack.children[a].viewProps.set("disposed",!0)})}onRackAdd_(t){t.isRoot&&jr(this.view.element,t.bladeController.view.element,t.index)}onRackRemove_(t){t.isRoot&&Fr(t.bladeController.view.element)}}const qr=C("cnt");class ca{constructor(t,e){var i;this.className_=C((i=e.viewName)!==null&&i!==void 0?i:"fld"),this.element=t.createElement("div"),this.element.classList.add(this.className_(),qr()),e.viewProps.bindClassModifiers(this.element),this.foldable_=e.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),q(this.foldable_,"completed",lt(this.element,this.className_(void 0,"cpl")));const a=t.createElement("button");a.classList.add(this.className_("b")),q(e.props,"title",y=>{_(y)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),e.viewProps.bindDisabled(a),this.element.appendChild(a),this.buttonElement=a;const p=t.createElement("div");p.classList.add(this.className_("i")),this.element.appendChild(p);const f=t.createElement("div");f.classList.add(this.className_("t")),ln(e.props.value("title"),f),this.buttonElement.appendChild(f),this.titleElement=f;const m=t.createElement("div");m.classList.add(this.className_("m")),this.buttonElement.appendChild(m);const w=e.containerElement;w.classList.add(this.className_("c")),this.element.appendChild(w),this.containerElement=w}}class xn extends gn{constructor(t,e){var i;const a=Xt.create((i=e.expanded)!==null&&i!==void 0?i:!0),p=new Zt(t,{blade:e.blade,root:e.root,viewProps:e.viewProps});super(Object.assign(Object.assign({},e),{rackController:p,view:new ca(t,{containerElement:p.view.element,foldable:a,props:e.props,viewName:e.root?"rot":void 0,viewProps:e.viewProps})})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=e.props,this.foldable=a,hn(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}const ua={id:"folder",type:"blade",accept(n){const t=D,e=$(n,{title:t.required.string,view:t.required.constant("folder"),expanded:t.optional.boolean});return e?{params:e}:null},controller(n){return new xn(n.document,{blade:n.blade,expanded:n.params.expanded,props:E.fromObject({title:n.params.title}),viewProps:n.viewProps})},api(n){return n.controller instanceof xn?new _n(n.controller,n.pool):null}};class Rt extends Tt{constructor(t,e){const i=e.valueController.viewProps;super(Object.assign(Object.assign({},e),{value:e.valueController.value,view:new Ur(t,{props:e.props,viewProps:i}),viewProps:i})),this.props=e.props,this.valueController=e.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}}class Gr extends c{}const Wr=C("spr");class pa{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Wr()),e.viewProps.bindClassModifiers(this.element);const i=t.createElement("hr");i.classList.add(Wr("r")),this.element.appendChild(i)}}class Yr extends Wt{constructor(t,e){super(Object.assign(Object.assign({},e),{view:new pa(t,{viewProps:e.viewProps})}))}}const da={id:"separator",type:"blade",accept(n){const e=$(n,{view:D.required.constant("separator")});return e?{params:e}:null},controller(n){return new Yr(n.document,{blade:n.blade,viewProps:n.viewProps})},api(n){return n.controller instanceof Yr?new Gr(n.controller):null}},te=C("tbi");class ha{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(te()),e.viewProps.bindClassModifiers(this.element),q(e.props,"selected",p=>{p?this.element.classList.add(te(void 0,"sel")):this.element.classList.remove(te(void 0,"sel"))});const i=t.createElement("button");i.classList.add(te("b")),e.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;const a=t.createElement("div");a.classList.add(te("t")),ln(e.props.value("title"),a),this.buttonElement.appendChild(a),this.titleElement=a}}class fa{constructor(t,e){this.emitter=new P,this.onClick_=this.onClick_.bind(this),this.props=e.props,this.viewProps=e.viewProps,this.view=new ha(t,{props:e.props,viewProps:e.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class Jr{constructor(t,e){this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new fa(t,{props:e.itemProps,viewProps:nt.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.cc_=new Zt(t,{blade:Jt(),viewProps:nt.create()}),this.props=e.props,q(this.props,"selected",i=>{this.itemController.props.set("selected",i),this.contentController.viewProps.set("hidden",!i)})}get itemController(){return this.ic_}get contentController(){return this.cc_}onItemClick_(){this.props.set("selected",!0)}}class Xr{constructor(t,e){this.controller_=t,this.rackApi_=e}get title(){var t;return(t=this.controller_.itemController.props.get("title"))!==null&&t!==void 0?t:""}set title(t){this.controller_.itemController.props.set("title",t)}get selected(){return this.controller_.props.get("selected")}set selected(t){this.controller_.props.set("selected",t)}get children(){return this.rackApi_.children}addButton(t){return this.rackApi_.addButton(t)}addFolder(t){return this.rackApi_.addFolder(t)}addSeparator(t){return this.rackApi_.addSeparator(t)}addTab(t){return this.rackApi_.addTab(t)}add(t,e){this.rackApi_.add(t,e)}remove(t){this.rackApi_.remove(t)}addInput(t,e,i){return this.rackApi_.addInput(t,e,i)}addMonitor(t,e,i){return this.rackApi_.addMonitor(t,e,i)}addBlade(t){return this.rackApi_.addBlade(t)}}class Qr extends fn{constructor(t,e){super(t,new Le(t.rackController,e)),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.onSelect_=this.onSelect_.bind(this),this.emitter_=new P,this.pageApiMap_=new Map,this.rackApi_.on("change",i=>{this.emitter_.emit("change",{event:i})}),this.rackApi_.on("update",i=>{this.emitter_.emit("update",{event:i})}),this.controller_.tab.selectedIndex.emitter.on("change",this.onSelect_),this.controller_.pageSet.emitter.on("add",this.onPageAdd_),this.controller_.pageSet.emitter.on("remove",this.onPageRemove_),this.controller_.pageSet.items.forEach(i=>{this.setUpPageApi_(i)})}get pages(){return this.controller_.pageSet.items.map(t=>{const e=this.pageApiMap_.get(t);if(!e)throw S.shouldNeverHappen();return e})}addPage(t){const e=this.controller_.view.element.ownerDocument,i=new Jr(e,{itemProps:E.fromObject({selected:!1,title:t.title}),props:E.fromObject({selected:!1})});this.controller_.add(i,t.index);const a=this.pageApiMap_.get(i);if(!a)throw S.shouldNeverHappen();return a}removePage(t){this.controller_.remove(t)}on(t,e){const i=e.bind(this);return this.emitter_.on(t,a=>{i(a.event)}),this}setUpPageApi_(t){const e=this.rackApi_.apiSet_.find(a=>a.controller_===t.contentController);if(!e)throw S.shouldNeverHappen();const i=new Xr(t,e);this.pageApiMap_.set(t,i)}onPageAdd_(t){this.setUpPageApi_(t.item)}onPageRemove_(t){if(!this.pageApiMap_.get(t.item))throw S.shouldNeverHappen();this.pageApiMap_.delete(t.item)}onSelect_(t){this.emitter_.emit("select",{event:new b(this,t.rawValue)})}}const Zr=-1;class va{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=F(!0),this.selectedIndex=F(Zr),this.items_=[]}add(t,e){const i=e??this.items_.length;this.items_.splice(i,0,t),t.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(t){const e=this.items_.indexOf(t);e<0||(this.items_.splice(e,1),t.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=Zr,this.empty.rawValue=!0;return}const t=this.items_.findIndex(e=>e.rawValue);t<0?(this.items_.forEach((e,i)=>{e.rawValue=i===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((e,i)=>{e.rawValue=i===t}),this.selectedIndex.rawValue=t),this.empty.rawValue=!1}onItemSelectedChange_(t){if(t.rawValue){const e=this.items_.findIndex(i=>i===t.sender);this.items_.forEach((i,a)=>{i.rawValue=a===e}),this.selectedIndex.rawValue=e}else this.keepSelection_()}}const ee=C("tab");class ma{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(ee(),qr()),e.viewProps.bindClassModifiers(this.element),z(e.empty,lt(this.element,ee(void 0,"nop")));const i=t.createElement("div");i.classList.add(ee("t")),this.element.appendChild(i),this.itemsElement=i;const a=t.createElement("div");a.classList.add(ee("i")),this.element.appendChild(a);const p=e.contentsElement;p.classList.add(ee("c")),this.element.appendChild(p),this.contentsElement=p}}class ti extends gn{constructor(t,e){const i=new Zt(t,{blade:e.blade,viewProps:e.viewProps}),a=new va;super({blade:e.blade,rackController:i,view:new ma(t,{contentsElement:i.view.element,empty:a.empty,viewProps:e.viewProps})}),this.onPageAdd_=this.onPageAdd_.bind(this),this.onPageRemove_=this.onPageRemove_.bind(this),this.pageSet_=new vn(()=>null),this.pageSet_.emitter.on("add",this.onPageAdd_),this.pageSet_.emitter.on("remove",this.onPageRemove_),this.tab=a}get pageSet(){return this.pageSet_}add(t,e){this.pageSet_.add(t,e)}remove(t){this.pageSet_.remove(this.pageSet_.items[t])}onPageAdd_(t){const e=t.item;jr(this.view.itemsElement,e.itemController.view.element,t.index),e.itemController.viewProps.set("parent",this.viewProps),this.rackController.rack.add(e.contentController,t.index),this.tab.add(e.props.value("selected"))}onPageRemove_(t){const e=t.item;Fr(e.itemController.view.element),e.itemController.viewProps.set("parent",null),this.rackController.rack.remove(e.contentController),this.tab.remove(e.props.value("selected"))}}const ei={id:"tab",type:"blade",accept(n){const t=D,e=$(n,{pages:t.required.array(t.required.object({title:t.required.string})),view:t.required.constant("tab")});return!e||e.pages.length===0?null:{params:e}},controller(n){const t=new ti(n.document,{blade:n.blade,viewProps:n.viewProps});return n.params.pages.forEach(e=>{const i=new Jr(n.document,{itemProps:E.fromObject({selected:!1,title:e.title}),props:E.fromObject({selected:!1})});t.add(i)}),t},api(n){return n.controller instanceof ti?new Qr(n.controller,n.pool):null}};function ba(n,t){const e=n.accept(t.params);if(!e)return null;const i=D.optional.boolean(t.params.disabled).value,a=D.optional.boolean(t.params.hidden).value;return n.controller({blade:Jt(),document:t.document,params:Object.assign(Object.assign({},e.params),{disabled:i,hidden:a}),viewProps:nt.create({disabled:i,hidden:a})})}class _a{constructor(){this.disabled=!1,this.emitter=new P}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class ga{constructor(t,e){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=t,this.emitter=new P,this.interval_=e,this.setTimer_()}get disabled(){return this.disabled_}set disabled(t){this.disabled_=t,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const t=this.doc_.defaultView;t&&t.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const t=this.doc_.defaultView;t&&(this.timerId_=t.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class wa{constructor(t){this.onValueChange_=this.onValueChange_.bind(this),this.reader=t.reader,this.writer=t.writer,this.emitter=new P,this.value=t.value,this.value.emitter.on("change",this.onValueChange_),this.target=t.target,this.read()}read(){const t=this.target.read();t!==void 0&&(this.value.rawValue=this.reader(t))}write_(t){this.writer(this.target,t)}onValueChange_(t){this.write_(t.rawValue),this.emitter.emit("change",{options:t.options,rawValue:t.rawValue,sender:this})}}function ni(n,t){for(;n.length<t;)n.push(void 0)}function xa(n){const t=[];return ni(t,n),F(t)}function ya(n){const t=n.indexOf(void 0);return t<0?n:n.slice(0,t)}function Ca(n,t){const e=[...ya(n),t];return e.length>n.length?e.splice(0,e.length-n.length):ni(e,n.length),e}class Ea{constructor(t){this.onTick_=this.onTick_.bind(this),this.reader_=t.reader,this.target=t.target,this.emitter=new P,this.value=t.value,this.ticker=t.ticker,this.ticker.emitter.on("tick",this.onTick_),this.read()}dispose(){this.ticker.dispose()}read(){const t=this.target.read();if(t===void 0)return;const e=this.value.rawValue,i=this.reader_(t);this.value.rawValue=Ca(e,i),this.emitter.emit("update",{rawValue:i,sender:this})}onTick_(t){this.read()}}class ne{constructor(t){this.constraints=t}constrain(t){return this.constraints.reduce((e,i)=>i.constrain(e),t)}}function rt(n,t){if(n instanceof t)return n;if(n instanceof ne){const e=n.constraints.reduce((i,a)=>i||(a instanceof t?a:null),null);if(e)return e}return null}class It{constructor(t){this.values=E.fromObject({max:t.max,min:t.min})}constrain(t){const e=this.values.get("max"),i=this.values.get("min");return Math.min(Math.max(t,i),e)}}class re{constructor(t){this.values=E.fromObject({options:t})}get options(){return this.values.get("options")}constrain(t){const e=this.values.get("options");return e.length===0||e.filter(a=>a.value===t).length>0?t:e[0].value}}class ri{constructor(t){this.values=E.fromObject({max:t.max,min:t.min})}get maxValue(){return this.values.get("max")}get minValue(){return this.values.get("min")}constrain(t){const e=this.values.get("max"),i=this.values.get("min");let a=t;return _(i)||(a=Math.max(a,i)),_(e)||(a=Math.min(a,e)),a}}class De{constructor(t,e=0){this.step=t,this.origin=e}constrain(t){const e=this.origin%this.step,i=Math.round((t-e)/this.step);return e+i*this.step}}const yn=C("lst");class Pa{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.props_=e.props,this.element=t.createElement("div"),this.element.classList.add(yn()),e.viewProps.bindClassModifiers(this.element);const i=t.createElement("select");i.classList.add(yn("s")),e.viewProps.bindDisabled(i),this.element.appendChild(i),this.selectElement=i;const a=t.createElement("div");a.classList.add(yn("m")),a.appendChild(Ae(t,"dropdown")),this.element.appendChild(a),e.value.emitter.on("change",this.onValueChange_),this.value_=e.value,q(this.props_,"options",p=>{$r(this.selectElement),p.forEach(f=>{const m=t.createElement("option");m.textContent=f.text,this.selectElement.appendChild(m)}),this.update_()})}update_(){const t=this.props_.get("options").map(e=>e.value);this.selectElement.selectedIndex=t.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class ie{constructor(t,e){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=e.props,this.value=e.value,this.viewProps=e.viewProps,this.view=new Pa(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(t){const e=t.currentTarget;this.value.rawValue=this.props.get("options")[e.selectedIndex].value}}const ii=C("pop");class ka{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(ii()),e.viewProps.bindClassModifiers(this.element),z(e.shows,lt(this.element,ii(void 0,"v")))}}class si{constructor(t,e){this.shows=F(!1),this.viewProps=e.viewProps,this.view=new ka(t,{shows:this.shows,viewProps:this.viewProps})}}const oi=C("txt");class Sa{constructor(t,e){this.onChange_=this.onChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(oi()),e.viewProps.bindClassModifiers(this.element),this.props_=e.props,this.props_.emitter.on("change",this.onChange_);const i=t.createElement("input");i.classList.add(oi("i")),i.type="text",e.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,e.value.emitter.on("change",this.onChange_),this.value_=e.value,this.refresh()}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value_.rawValue)}onChange_(){this.refresh()}}class Oe{constructor(t,e){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=e.parser,this.props=e.props,this.value=e.value,this.viewProps=e.viewProps,this.view=new Sa(t,{props:e.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const i=t.currentTarget.value,a=this.parser_(i);_(a)||(this.value.rawValue=a),this.view.refresh()}}function Va(n){return String(n)}function ai(n){return n==="false"?!1:!!n}function li(n){return Va(n)}class Aa{constructor(t){this.text=t}evaluate(){return Number(this.text)}toString(){return this.text}}const Ma={"**":(n,t)=>Math.pow(n,t),"*":(n,t)=>n*t,"/":(n,t)=>n/t,"%":(n,t)=>n%t,"+":(n,t)=>n+t,"-":(n,t)=>n-t,"<<":(n,t)=>n<<t,">>":(n,t)=>n>>t,">>>":(n,t)=>n>>>t,"&":(n,t)=>n&t,"^":(n,t)=>n^t,"|":(n,t)=>n|t};class La{constructor(t,e,i){this.left=e,this.operator=t,this.right=i}evaluate(){const t=Ma[this.operator];if(!t)throw new Error(`unexpected binary operator: '${this.operator}`);return t(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const Da={"+":n=>n,"-":n=>-n,"~":n=>~n};class Oa{constructor(t,e){this.operator=t,this.expression=e}evaluate(){const t=Da[this.operator];if(!t)throw new Error(`unexpected unary operator: '${this.operator}`);return t(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function Cn(n){return(t,e)=>{for(let i=0;i<n.length;i++){const a=n[i](t,e);if(a!=="")return a}return""}}function se(n,t){var e;const i=n.substr(t).match(/^\s+/);return(e=i&&i[0])!==null&&e!==void 0?e:""}function Ta(n,t){const e=n.substr(t,1);return e.match(/^[1-9]$/)?e:""}function oe(n,t){var e;const i=n.substr(t).match(/^[0-9]+/);return(e=i&&i[0])!==null&&e!==void 0?e:""}function Ra(n,t){const e=oe(n,t);if(e!=="")return e;const i=n.substr(t,1);if(t+=1,i!=="-"&&i!=="+")return"";const a=oe(n,t);return a===""?"":i+a}function En(n,t){const e=n.substr(t,1);if(t+=1,e.toLowerCase()!=="e")return"";const i=Ra(n,t);return i===""?"":e+i}function ci(n,t){const e=n.substr(t,1);if(e==="0")return e;const i=Ta(n,t);return t+=i.length,i===""?"":i+oe(n,t)}function Ia(n,t){const e=ci(n,t);if(t+=e.length,e==="")return"";const i=n.substr(t,1);if(t+=i.length,i!==".")return"";const a=oe(n,t);return t+=a.length,e+i+a+En(n,t)}function Na(n,t){const e=n.substr(t,1);if(t+=e.length,e!==".")return"";const i=oe(n,t);return t+=i.length,i===""?"":e+i+En(n,t)}function Ba(n,t){const e=ci(n,t);return t+=e.length,e===""?"":e+En(n,t)}const ja=Cn([Ia,Na,Ba]);function Fa(n,t){var e;const i=n.substr(t).match(/^[01]+/);return(e=i&&i[0])!==null&&e!==void 0?e:""}function $a(n,t){const e=n.substr(t,2);if(t+=e.length,e.toLowerCase()!=="0b")return"";const i=Fa(n,t);return i===""?"":e+i}function Ka(n,t){var e;const i=n.substr(t).match(/^[0-7]+/);return(e=i&&i[0])!==null&&e!==void 0?e:""}function Ua(n,t){const e=n.substr(t,2);if(t+=e.length,e.toLowerCase()!=="0o")return"";const i=Ka(n,t);return i===""?"":e+i}function Ha(n,t){var e;const i=n.substr(t).match(/^[0-9a-f]+/i);return(e=i&&i[0])!==null&&e!==void 0?e:""}function za(n,t){const e=n.substr(t,2);if(t+=e.length,e.toLowerCase()!=="0x")return"";const i=Ha(n,t);return i===""?"":e+i}const qa=Cn([$a,Ua,za]),Ga=Cn([qa,ja]);function Wa(n,t){const e=Ga(n,t);return t+=e.length,e===""?null:{evaluable:new Aa(e),cursor:t}}function Ya(n,t){const e=n.substr(t,1);if(t+=e.length,e!=="(")return null;const i=pi(n,t);if(!i)return null;t=i.cursor,t+=se(n,t).length;const a=n.substr(t,1);return t+=a.length,a!==")"?null:{evaluable:i.evaluable,cursor:t}}function Ja(n,t){var e;return(e=Wa(n,t))!==null&&e!==void 0?e:Ya(n,t)}function ui(n,t){const e=Ja(n,t);if(e)return e;const i=n.substr(t,1);if(t+=i.length,i!=="+"&&i!=="-"&&i!=="~")return null;const a=ui(n,t);return a?(t=a.cursor,{cursor:t,evaluable:new Oa(i,a.evaluable)}):null}function Xa(n,t,e){e+=se(t,e).length;const i=n.filter(a=>t.startsWith(a,e))[0];return i?(e+=i.length,e+=se(t,e).length,{cursor:e,operator:i}):null}function Qa(n,t){return(e,i)=>{const a=n(e,i);if(!a)return null;i=a.cursor;let p=a.evaluable;for(;;){const f=Xa(t,e,i);if(!f)break;i=f.cursor;const m=n(e,i);if(!m)return null;i=m.cursor,p=new La(f.operator,p,m.evaluable)}return p?{cursor:i,evaluable:p}:null}}const Za=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((n,t)=>Qa(n,t),ui);function pi(n,t){return t+=se(n,t).length,Za(n,t)}function tl(n){const t=pi(n,0);return!t||t.cursor+se(n,t.cursor).length!==n.length?null:t.evaluable}function it(n){var t;const e=tl(n);return(t=e==null?void 0:e.evaluate())!==null&&t!==void 0?t:null}function di(n){if(typeof n=="number")return n;if(typeof n=="string"){const t=it(n);if(!_(t))return t}return 0}function el(n){return String(n)}function K(n){return t=>t.toFixed(Math.max(Math.min(n,20),0))}const nl=K(0);function Te(n){return nl(n)+"%"}function hi(n){return String(n)}function Pn(n){return n}function ae({primary:n,secondary:t,forward:e,backward:i}){let a=!1;function p(f){a||(a=!0,f(),a=!1)}n.emitter.on("change",f=>{p(()=>{t.setRawValue(e(n,t),f.options)})}),t.emitter.on("change",f=>{p(()=>{n.setRawValue(i(n,t),f.options)}),p(()=>{t.setRawValue(e(n,t),f.options)})}),p(()=>{t.setRawValue(e(n,t),{forceEmit:!1,last:!0})})}function H(n,t){const e=n*(t.altKey?.1:1)*(t.shiftKey?10:1);return t.upKey?+e:t.downKey?-e:0}function le(n){return{altKey:n.altKey,downKey:n.key==="ArrowDown",shiftKey:n.shiftKey,upKey:n.key==="ArrowUp"}}function st(n){return{altKey:n.altKey,downKey:n.key==="ArrowLeft",shiftKey:n.shiftKey,upKey:n.key==="ArrowRight"}}function rl(n){return n==="ArrowUp"||n==="ArrowDown"}function fi(n){return rl(n)||n==="ArrowLeft"||n==="ArrowRight"}function kn(n,t){var e,i;const a=t.ownerDocument.defaultView,p=t.getBoundingClientRect();return{x:n.pageX-(((e=a&&a.scrollX)!==null&&e!==void 0?e:0)+p.left),y:n.pageY-(((i=a&&a.scrollY)!==null&&i!==void 0?i:0)+p.top)}}class yt{constructor(t){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=t,this.emitter=new P,t.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),t.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),t.addEventListener("touchend",this.onTouchEnd_),t.addEventListener("mousedown",this.onMouseDown_)}computePosition_(t){const e=this.elem_.getBoundingClientRect();return{bounds:{width:e.width,height:e.height},point:t?{x:t.x,y:t.y}:null}}onMouseDown_(t){var e;t.preventDefault(),(e=t.currentTarget)===null||e===void 0||e.focus();const i=this.elem_.ownerDocument;i.addEventListener("mousemove",this.onDocumentMouseMove_),i.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(kn(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseMove_(t){this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(kn(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onDocumentMouseUp_(t){const e=this.elem_.ownerDocument;e.removeEventListener("mousemove",this.onDocumentMouseMove_),e.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(kn(t,this.elem_)),sender:this,shiftKey:t.shiftKey})}onTouchStart_(t){t.preventDefault();const e=t.targetTouches.item(0),i=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:t.altKey,data:this.computePosition_(e?{x:e.clientX-i.left,y:e.clientY-i.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=e}onTouchMove_(t){const e=t.targetTouches.item(0),i=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:t.altKey,data:this.computePosition_(e?{x:e.clientX-i.left,y:e.clientY-i.top}:void 0),sender:this,shiftKey:t.shiftKey}),this.lastTouch_=e}onTouchEnd_(t){var e;const i=(e=t.targetTouches.item(0))!==null&&e!==void 0?e:this.lastTouch_,a=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:t.altKey,data:this.computePosition_(i?{x:i.clientX-a.left,y:i.clientY-a.top}:void 0),sender:this,shiftKey:t.shiftKey})}}function O(n,t,e,i,a){const p=(n-t)/(e-t);return i+p*(a-i)}function vi(n){return String(n.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function N(n,t,e){return Math.min(Math.max(n,t),e)}function mi(n,t){return(n%t+t)%t}const G=C("txt");class il{constructor(t,e){this.onChange_=this.onChange_.bind(this),this.props_=e.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(G(),G(void 0,"num")),e.arrayPosition&&this.element.classList.add(G(void 0,e.arrayPosition)),e.viewProps.bindClassModifiers(this.element);const i=t.createElement("input");i.classList.add(G("i")),i.type="text",e.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=e.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(G()),this.inputElement.classList.add(G("i"));const a=t.createElement("div");a.classList.add(G("k")),this.element.appendChild(a),this.knobElement=a;const p=t.createElementNS(Q,"svg");p.classList.add(G("g")),this.knobElement.appendChild(p);const f=t.createElementNS(Q,"path");f.classList.add(G("gb")),p.appendChild(f),this.guideBodyElem_=f;const m=t.createElementNS(Q,"path");m.classList.add(G("gh")),p.appendChild(m),this.guideHeadElem_=m;const w=t.createElement("div");w.classList.add(C("tt")()),this.knobElement.appendChild(w),this.tooltipElem_=w,e.value.emitter.on("change",this.onChange_),this.value=e.value,this.refresh()}onDraggingChange_(t){if(t.rawValue===null){this.element.classList.remove(G(void 0,"drg"));return}this.element.classList.add(G(void 0,"drg"));const e=t.rawValue/this.props_.get("draggingScale"),i=e+(e>0?-1:e<0?1:0),a=N(-i,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${i+a},0 L${i},4 L${i+a},8`,`M ${e},-1 L${e},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${e},4`);const p=this.props_.get("formatter");this.tooltipElem_.textContent=p(this.value.rawValue),this.tooltipElem_.style.left=`${e}px`}refresh(){const t=this.props_.get("formatter");this.inputElement.value=t(this.value.rawValue)}onChange_(){this.refresh()}}class ce{constructor(t,e){var i;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=e.baseStep,this.parser_=e.parser,this.props=e.props,this.sliderProps_=(i=e.sliderProps)!==null&&i!==void 0?i:null,this.value=e.value,this.viewProps=e.viewProps,this.dragging_=F(null),this.view=new il(t,{arrayPosition:e.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const a=new yt(this.view.knobElement);a.emitter.on("down",this.onPointerDown_),a.emitter.on("move",this.onPointerMove_),a.emitter.on("up",this.onPointerUp_)}constrainValue_(t){var e,i;const a=(e=this.sliderProps_)===null||e===void 0?void 0:e.get("minValue"),p=(i=this.sliderProps_)===null||i===void 0?void 0:i.get("maxValue");let f=t;return a!==void 0&&(f=Math.max(f,a)),p!==void 0&&(f=Math.min(f,p)),f}onInputChange_(t){const i=t.currentTarget.value,a=this.parser_(i);_(a)||(this.value.rawValue=this.constrainValue_(a)),this.view.refresh()}onInputKeyDown_(t){const e=H(this.baseStep_,le(t));e!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+e),{forceEmit:!1,last:!1})}onInputKeyUp_(t){H(this.baseStep_,le(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(t){if(!t.point)return null;const e=t.point.x-t.bounds.width/2;return this.constrainValue_(this.originRawValue_+e*this.props.get("draggingScale"))}onPointerMove_(t){const e=this.computeDraggingValue_(t.data);e!==null&&(this.value.setRawValue(e,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(t){const e=this.computeDraggingValue_(t.data);e!==null&&(this.value.setRawValue(e,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const Sn=C("sld");class sl{constructor(t,e){this.onChange_=this.onChange_.bind(this),this.props_=e.props,this.props_.emitter.on("change",this.onChange_),this.element=t.createElement("div"),this.element.classList.add(Sn()),e.viewProps.bindClassModifiers(this.element);const i=t.createElement("div");i.classList.add(Sn("t")),e.viewProps.bindTabIndex(i),this.element.appendChild(i),this.trackElement=i;const a=t.createElement("div");a.classList.add(Sn("k")),this.trackElement.appendChild(a),this.knobElement=a,e.value.emitter.on("change",this.onChange_),this.value=e.value,this.update_()}update_(){const t=N(O(this.value.rawValue,this.props_.get("minValue"),this.props_.get("maxValue"),0,100),0,100);this.knobElement.style.width=`${t}%`}onChange_(){this.update_()}}class ol{constructor(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.baseStep_=e.baseStep,this.value=e.value,this.viewProps=e.viewProps,this.props=e.props,this.view=new sl(t,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new yt(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,e){t.point&&this.value.setRawValue(O(N(t.point.x,0,t.bounds.width),0,t.bounds.width,this.props.get("minValue"),this.props.get("maxValue")),e)}onPointerDownOrMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const e=H(this.baseStep_,st(t));e!==0&&this.value.setRawValue(this.value.rawValue+e,{forceEmit:!1,last:!1})}onKeyUp_(t){H(this.baseStep_,st(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Vn=C("sldtxt");class al{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Vn());const i=t.createElement("div");i.classList.add(Vn("s")),this.sliderView_=e.sliderView,i.appendChild(this.sliderView_.element),this.element.appendChild(i);const a=t.createElement("div");a.classList.add(Vn("t")),this.textView_=e.textView,a.appendChild(this.textView_.element),this.element.appendChild(a)}}class An{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.sliderC_=new ol(t,{baseStep:e.baseStep,props:e.sliderProps,value:e.value,viewProps:this.viewProps}),this.textC_=new ce(t,{baseStep:e.baseStep,parser:e.parser,props:e.textProps,sliderProps:e.sliderProps,value:e.value,viewProps:e.viewProps}),this.view=new al(t,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}}function ue(n,t){n.write(t)}function Re(n){const t=D;if(Array.isArray(n))return t.required.array(t.required.object({text:t.required.string,value:t.required.raw}))(n).value;if(typeof n=="object")return t.required.raw(n).value}function bi(n){if(n==="inline"||n==="popup")return n}function ut(n){const t=D;return t.required.object({max:t.optional.number,min:t.optional.number,step:t.optional.number})(n).value}function _i(n){if(Array.isArray(n))return n;const t=[];return Object.keys(n).forEach(e=>{t.push({text:e,value:n[e]})}),t}function Mn(n){return _(n)?null:new re(_i(n))}function ll(n){const t=n?rt(n,De):null;return t?t.step:null}function Ie(n,t){const e=n&&rt(n,De);return e?vi(e.step):Math.max(vi(t),2)}function Nt(n){const t=ll(n);return t??1}function Bt(n,t){var e;const i=n&&rt(n,De),a=Math.abs((e=i==null?void 0:i.step)!==null&&e!==void 0?e:t);return a===0?.1:Math.pow(10,Math.floor(Math.log10(a))-1)}const Ne=C("ckb");class cl{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.element=t.createElement("div"),this.element.classList.add(Ne()),e.viewProps.bindClassModifiers(this.element);const i=t.createElement("label");i.classList.add(Ne("l")),this.element.appendChild(i);const a=t.createElement("input");a.classList.add(Ne("i")),a.type="checkbox",i.appendChild(a),this.inputElement=a,e.viewProps.bindDisabled(this.inputElement);const p=t.createElement("div");p.classList.add(Ne("w")),i.appendChild(p);const f=Ae(t,"check");p.appendChild(f),e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class ul{constructor(t,e){this.onInputChange_=this.onInputChange_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new cl(t,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(t){const e=t.currentTarget;this.value.rawValue=e.checked}}function pl(n){const t=[],e=Mn(n.options);return e&&t.push(e),new ne(t)}const dl={id:"input-bool",type:"input",accept:(n,t)=>{if(typeof n!="boolean")return null;const i=$(t,{options:D.optional.custom(Re)});return i?{initialValue:n,params:i}:null},binding:{reader:n=>ai,constraint:n=>pl(n.params),writer:n=>ue},controller:n=>{const t=n.document,e=n.value,i=n.constraint,a=i&&rt(i,re);return a?new ie(t,{props:new E({options:a.values.value("options")}),value:e,viewProps:n.viewProps}):new ul(t,{value:e,viewProps:n.viewProps})}},Ct=C("col");class hl{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Ct()),e.foldable.bindExpandedClass(this.element,Ct(void 0,"expanded")),q(e.foldable,"completed",lt(this.element,Ct(void 0,"cpl")));const i=t.createElement("div");i.classList.add(Ct("h")),this.element.appendChild(i);const a=t.createElement("div");a.classList.add(Ct("s")),i.appendChild(a),this.swatchElement=a;const p=t.createElement("div");if(p.classList.add(Ct("t")),i.appendChild(p),this.textElement=p,e.pickerLayout==="inline"){const f=t.createElement("div");f.classList.add(Ct("p")),this.element.appendChild(f),this.pickerElement=f}else this.pickerElement=null}}function fl(n,t,e){const i=N(n/255,0,1),a=N(t/255,0,1),p=N(e/255,0,1),f=Math.max(i,a,p),m=Math.min(i,a,p),w=f-m;let y=0,A=0;const M=(m+f)/2;return w!==0&&(A=w/(1-Math.abs(f+m-1)),i===f?y=(a-p)/w:a===f?y=2+(p-i)/w:y=4+(i-a)/w,y=y/6+(y<0?1:0)),[y*360,A*100,M*100]}function vl(n,t,e){const i=(n%360+360)%360,a=N(t/100,0,1),p=N(e/100,0,1),f=(1-Math.abs(2*p-1))*a,m=f*(1-Math.abs(i/60%2-1)),w=p-f/2;let y,A,M;return i>=0&&i<60?[y,A,M]=[f,m,0]:i>=60&&i<120?[y,A,M]=[m,f,0]:i>=120&&i<180?[y,A,M]=[0,f,m]:i>=180&&i<240?[y,A,M]=[0,m,f]:i>=240&&i<300?[y,A,M]=[m,0,f]:[y,A,M]=[f,0,m],[(y+w)*255,(A+w)*255,(M+w)*255]}function ml(n,t,e){const i=N(n/255,0,1),a=N(t/255,0,1),p=N(e/255,0,1),f=Math.max(i,a,p),m=Math.min(i,a,p),w=f-m;let y;w===0?y=0:f===i?y=60*(((a-p)/w%6+6)%6):f===a?y=60*((p-i)/w+2):y=60*((i-a)/w+4);const A=f===0?0:w/f,M=f;return[y,A*100,M*100]}function gi(n,t,e){const i=mi(n,360),a=N(t/100,0,1),p=N(e/100,0,1),f=p*a,m=f*(1-Math.abs(i/60%2-1)),w=p-f;let y,A,M;return i>=0&&i<60?[y,A,M]=[f,m,0]:i>=60&&i<120?[y,A,M]=[m,f,0]:i>=120&&i<180?[y,A,M]=[0,f,m]:i>=180&&i<240?[y,A,M]=[0,m,f]:i>=240&&i<300?[y,A,M]=[m,0,f]:[y,A,M]=[f,0,m],[(y+w)*255,(A+w)*255,(M+w)*255]}function bl(n,t,e){const i=e+t*(100-Math.abs(2*e-100))/200;return[n,i!==0?t*(100-Math.abs(2*e-100))/i:0,e+t*(100-Math.abs(2*e-100))/(2*100)]}function _l(n,t,e){const i=100-Math.abs(e*(200-t)/100-100);return[n,i!==0?t*e/i:0,e*(200-t)/(2*100)]}function Et(n){return[n[0],n[1],n[2]]}function wi(n,t){return[n[0],n[1],n[2],t]}const gl={hsl:{hsl:(n,t,e)=>[n,t,e],hsv:bl,rgb:vl},hsv:{hsl:_l,hsv:(n,t,e)=>[n,t,e],rgb:gi},rgb:{hsl:fl,hsv:ml,rgb:(n,t,e)=>[n,t,e]}};function Be(n,t){return[t==="float"?1:n==="rgb"?255:360,t==="float"?1:n==="rgb"?255:100,t==="float"?1:n==="rgb"?255:100]}function wl(n,t){return n===t?t:mi(n,t)}function xl(n,t,e){var i;const a=Be(t,e);return[t==="rgb"?N(n[0],0,a[0]):wl(n[0],a[0]),N(n[1],0,a[1]),N(n[2],0,a[2]),N((i=n[3])!==null&&i!==void 0?i:1,0,1)]}function xi(n,t,e,i){const a=Be(t,e),p=Be(t,i);return n.map((f,m)=>f/a[m]*p[m])}function yl(n,t,e){const i=xi(n,t.mode,t.type,"int"),a=gl[t.mode][e.mode](...i);return xi(a,e.mode,"int",e.type)}function je(n,t){return typeof n!="object"||_(n)?!1:t in n&&typeof n[t]=="number"}class V{static black(t="int"){return new V([0,0,0],"rgb",t)}static fromObject(t,e="int"){const i="a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b];return new V(i,"rgb",e)}static toRgbaObject(t,e="int"){return t.toRgbaObject(e)}static isRgbColorObject(t){return je(t,"r")&&je(t,"g")&&je(t,"b")}static isRgbaColorObject(t){return this.isRgbColorObject(t)&&je(t,"a")}static isColorObject(t){return this.isRgbColorObject(t)}static equals(t,e){if(t.mode!==e.mode)return!1;const i=t.comps_,a=e.comps_;for(let p=0;p<i.length;p++)if(i[p]!==a[p])return!1;return!0}constructor(t,e,i="int"){this.mode=e,this.type=i,this.comps_=xl(t,e,i)}getComponents(t,e="int"){return wi(yl(Et(this.comps_),{mode:this.mode,type:this.type},{mode:t??this.mode,type:e}),this.comps_[3])}toRgbaObject(t="int"){const e=this.getComponents("rgb",t);return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const pt=C("colp");class Cl{constructor(t,e){this.alphaViews_=null,this.element=t.createElement("div"),this.element.classList.add(pt()),e.viewProps.bindClassModifiers(this.element);const i=t.createElement("div");i.classList.add(pt("hsv"));const a=t.createElement("div");a.classList.add(pt("sv")),this.svPaletteView_=e.svPaletteView,a.appendChild(this.svPaletteView_.element),i.appendChild(a);const p=t.createElement("div");p.classList.add(pt("h")),this.hPaletteView_=e.hPaletteView,p.appendChild(this.hPaletteView_.element),i.appendChild(p),this.element.appendChild(i);const f=t.createElement("div");if(f.classList.add(pt("rgb")),this.textView_=e.textView,f.appendChild(this.textView_.element),this.element.appendChild(f),e.alphaViews){this.alphaViews_={palette:e.alphaViews.palette,text:e.alphaViews.text};const m=t.createElement("div");m.classList.add(pt("a"));const w=t.createElement("div");w.classList.add(pt("ap")),w.appendChild(this.alphaViews_.palette.element),m.appendChild(w);const y=t.createElement("div");y.classList.add(pt("at")),y.appendChild(this.alphaViews_.text.element),m.appendChild(y),this.element.appendChild(m)}}get allFocusableElements(){const t=[this.svPaletteView_.element,this.hPaletteView_.element,this.textView_.modeSelectElement,...this.textView_.textViews.map(e=>e.inputElement)];return this.alphaViews_&&t.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),t}}function El(n){return n==="int"?"int":n==="float"?"float":void 0}function Ln(n){const t=D;return $(n,{alpha:t.optional.boolean,color:t.optional.object({alpha:t.optional.boolean,type:t.optional.custom(El)}),expanded:t.optional.boolean,picker:t.optional.custom(bi)})}function Pt(n){return n?.1:1}function kt(n){var t;return(t=n.color)===null||t===void 0?void 0:t.type}function Pl(n,t){return n.alpha===t.alpha&&n.mode===t.mode&&n.notation===t.notation&&n.type===t.type}function W(n,t){const e=n.match(/^(.+)%$/);return Math.min(e?parseFloat(e[1])*.01*t:parseFloat(n),t)}const kl={deg:n=>n,grad:n=>n*360/400,rad:n=>n*360/(2*Math.PI),turn:n=>n*360};function yi(n){const t=n.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!t)return parseFloat(n);const e=parseFloat(t[1]),i=t[2];return kl[i](e)}function Ci(n){const t=n.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const e=[W(t[1],255),W(t[2],255),W(t[3],255)];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])?null:e}function Ei(n){return t=>{const e=Ci(t);return e?new V(e,"rgb",n):null}}function Pi(n){const t=n.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const e=[W(t[1],255),W(t[2],255),W(t[3],255),W(t[4],1)];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])||isNaN(e[3])?null:e}function ki(n){return t=>{const e=Pi(t);return e?new V(e,"rgb",n):null}}function Si(n){const t=n.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const e=[yi(t[1]),W(t[2],100),W(t[3],100)];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])?null:e}function Vi(n){return t=>{const e=Si(t);return e?new V(e,"hsl",n):null}}function Ai(n){const t=n.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!t)return null;const e=[yi(t[1]),W(t[2],100),W(t[3],100),W(t[4],1)];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])||isNaN(e[3])?null:e}function Mi(n){return t=>{const e=Ai(t);return e?new V(e,"hsl",n):null}}function Li(n){const t=n.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)];const e=n.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null}function Sl(n){const t=Li(n);return t?new V(t,"rgb","int"):null}function Di(n){const t=n.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(t)return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),O(parseInt(t[4]+t[4],16),0,255,0,1)];const e=n.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),O(parseInt(e[4],16),0,255,0,1)]:null}function Vl(n){const t=Di(n);return t?new V(t,"rgb","int"):null}function Oi(n){const t=n.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!t)return null;const e=[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3])];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])?null:e}function Ti(n){return t=>{const e=Oi(t);return e?new V(e,"rgb",n):null}}function Ri(n){const t=n.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!t)return null;const e=[parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),parseFloat(t[4])];return isNaN(e[0])||isNaN(e[1])||isNaN(e[2])||isNaN(e[3])?null:e}function Ii(n){return t=>{const e=Ri(t);return e?new V(e,"rgb",n):null}}const Al=[{parser:Li,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:Di,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:Ci,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:Pi,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:Si,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:Ai,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:Oi,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:Ri,result:{alpha:!0,mode:"rgb",notation:"object"}}];function Ml(n){return Al.reduce((t,{parser:e,result:i})=>t||(e(n)?i:null),null)}function Dn(n,t="int"){const e=Ml(n);return e?e.notation==="hex"&&t!=="float"?Object.assign(Object.assign({},e),{type:"int"}):e.notation==="func"?Object.assign(Object.assign({},e),{type:t}):null:null}const Ni={int:[Sl,Vl,Ei("int"),ki("int"),Vi("int"),Mi("int"),Ti("int"),Ii("int")],float:[Ei("float"),ki("float"),Vi("float"),Mi("float"),Ti("float"),Ii("float")]};function Ll(n){const t=Ni[n];return e=>{if(typeof e!="string")return V.black(n);const i=t.reduce((a,p)=>a||p(e),null);return i??V.black(n)}}function On(n){const t=Ni[n];return e=>t.reduce((i,a)=>i||a(e),null)}function Bi(n){const t=N(Math.floor(n),0,255).toString(16);return t.length===1?`0${t}`:t}function ji(n,t="#"){const e=Et(n.getComponents("rgb")).map(Bi).join("");return`${t}${e}`}function Tn(n,t="#"){const e=n.getComponents("rgb"),i=[e[0],e[1],e[2],e[3]*255].map(Bi).join("");return`${t}${i}`}function Fi(n,t){const e=K(t==="float"?2:0);return`rgb(${Et(n.getComponents("rgb",t)).map(a=>e(a)).join(", ")})`}function Dl(n){return t=>Fi(t,n)}function Fe(n,t){const e=K(2),i=K(t==="float"?2:0);return`rgba(${n.getComponents("rgb",t).map((p,f)=>(f===3?e:i)(p)).join(", ")})`}function Ol(n){return t=>Fe(t,n)}function Tl(n){const t=[K(0),Te,Te];return`hsl(${Et(n.getComponents("hsl")).map((i,a)=>t[a](i)).join(", ")})`}function Rl(n){const t=[K(0),Te,Te,K(2)];return`hsla(${n.getComponents("hsl").map((i,a)=>t[a](i)).join(", ")})`}function $i(n,t){const e=K(t==="float"?2:0),i=["r","g","b"];return`{${Et(n.getComponents("rgb",t)).map((p,f)=>`${i[f]}: ${e(p)}`).join(", ")}}`}function Il(n){return t=>$i(t,n)}function Ki(n,t){const e=K(2),i=K(t==="float"?2:0),a=["r","g","b","a"];return`{${n.getComponents("rgb",t).map((f,m)=>{const w=m===3?e:i;return`${a[m]}: ${w(f)}`}).join(", ")}}`}function Nl(n){return t=>Ki(t,n)}const Bl=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:ji},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:Tn},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:Tl},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:Rl},...["int","float"].reduce((n,t)=>[...n,{format:{alpha:!1,mode:"rgb",notation:"func",type:t},stringifier:Dl(t)},{format:{alpha:!0,mode:"rgb",notation:"func",type:t},stringifier:Ol(t)},{format:{alpha:!1,mode:"rgb",notation:"object",type:t},stringifier:Il(t)},{format:{alpha:!0,mode:"rgb",notation:"object",type:t},stringifier:Nl(t)}],[])];function Rn(n){return Bl.reduce((t,e)=>t||(Pl(e.format,n)?e.stringifier:null),null)}const pe=C("apl");class jl{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(pe()),e.viewProps.bindClassModifiers(this.element),e.viewProps.bindTabIndex(this.element);const i=t.createElement("div");i.classList.add(pe("b")),this.element.appendChild(i);const a=t.createElement("div");a.classList.add(pe("c")),i.appendChild(a),this.colorElem_=a;const p=t.createElement("div");p.classList.add(pe("m")),this.element.appendChild(p),this.markerElem_=p;const f=t.createElement("div");f.classList.add(pe("p")),this.markerElem_.appendChild(f),this.previewElem_=f,this.update_()}update_(){const t=this.value.rawValue,e=t.getComponents("rgb"),i=new V([e[0],e[1],e[2],0],"rgb"),a=new V([e[0],e[1],e[2],255],"rgb"),p=["to right",Fe(i),Fe(a)];this.colorElem_.style.background=`linear-gradient(${p.join(",")})`,this.previewElem_.style.backgroundColor=Fe(t);const f=O(e[3],0,1,0,100);this.markerElem_.style.left=`${f}%`}onValueChange_(){this.update_()}}class Fl{constructor(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new jl(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new yt(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,e){if(!t.point)return;const i=t.point.x/t.bounds.width,a=this.value.rawValue,[p,f,m]=a.getComponents("hsv");this.value.setRawValue(new V([p,f,m,i],"hsv"),e)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const e=H(Pt(!0),st(t));if(e===0)return;const i=this.value.rawValue,[a,p,f,m]=i.getComponents("hsv");this.value.setRawValue(new V([a,p,f,m+e],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){H(Pt(!0),st(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const jt=C("coltxt");function $l(n){const t=n.createElement("select"),e=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"}];return t.appendChild(e.reduce((i,a)=>{const p=n.createElement("option");return p.textContent=a.text,p.value=a.value,i.appendChild(p),i},n.createDocumentFragment())),t}class Kl{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(jt()),e.viewProps.bindClassModifiers(this.element);const i=t.createElement("div");i.classList.add(jt("m")),this.modeElem_=$l(t),this.modeElem_.classList.add(jt("ms")),i.appendChild(this.modeSelectElement),e.viewProps.bindDisabled(this.modeElem_);const a=t.createElement("div");a.classList.add(jt("mm")),a.appendChild(Ae(t,"dropdown")),i.appendChild(a),this.element.appendChild(i);const p=t.createElement("div");p.classList.add(jt("w")),this.element.appendChild(p),this.textsElem_=p,this.textViews_=e.textViews,this.applyTextViews_(),z(e.colorMode,f=>{this.modeElem_.value=f})}get modeSelectElement(){return this.modeElem_}get textViews(){return this.textViews_}set textViews(t){this.textViews_=t,this.applyTextViews_()}applyTextViews_(){$r(this.textsElem_);const t=this.element.ownerDocument;this.textViews_.forEach(e=>{const i=t.createElement("div");i.classList.add(jt("c")),i.appendChild(e.element),this.textsElem_.appendChild(i)})}}function Ul(n){return K(n==="float"?2:0)}function Hl(n,t,e){const i=Be(n,t)[e];return new It({min:0,max:i})}function In(n,t,e){return new ce(n,{arrayPosition:e===0?"fst":e===3-1?"lst":"mid",baseStep:Pt(!1),parser:t.parser,props:E.fromObject({draggingScale:t.colorType==="float"?.01:1,formatter:Ul(t.colorType)}),value:F(0,{constraint:Hl(t.colorMode,t.colorType,e)}),viewProps:t.viewProps})}class zl{constructor(t,e){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=e.colorType,this.parser_=e.parser,this.value=e.value,this.viewProps=e.viewProps,this.colorMode=F(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(t),this.view=new Kl(t,{colorMode:this.colorMode,textViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(t){const e={colorMode:this.colorMode.rawValue,colorType:this.colorType_,parser:this.parser_,viewProps:this.viewProps},i=[In(t,e,0),In(t,e,1),In(t,e,2)];return i.forEach((a,p)=>{ae({primary:this.value,secondary:a.value,forward:f=>f.rawValue.getComponents(this.colorMode.rawValue,this.colorType_)[p],backward:(f,m)=>{const w=this.colorMode.rawValue,y=f.rawValue.getComponents(w,this.colorType_);return y[p]=m.rawValue,new V(wi(Et(y),y[3]),w,this.colorType_)}})}),i}onModeSelectChange_(t){const e=t.currentTarget;this.colorMode.rawValue=e.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.textViews=[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view]}}const Nn=C("hpl");class ql{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Nn()),e.viewProps.bindClassModifiers(this.element),e.viewProps.bindTabIndex(this.element);const i=t.createElement("div");i.classList.add(Nn("c")),this.element.appendChild(i);const a=t.createElement("div");a.classList.add(Nn("m")),this.element.appendChild(a),this.markerElem_=a,this.update_()}update_(){const t=this.value.rawValue,[e]=t.getComponents("hsv");this.markerElem_.style.backgroundColor=Fi(new V([e,100,100],"hsv"));const i=O(e,0,360,0,100);this.markerElem_.style.left=`${i}%`}onValueChange_(){this.update_()}}class Gl{constructor(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new ql(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new yt(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,e){if(!t.point)return;const i=O(N(t.point.x,0,t.bounds.width),0,t.bounds.width,0,360),a=this.value.rawValue,[,p,f,m]=a.getComponents("hsv");this.value.setRawValue(new V([i,p,f,m],"hsv"),e)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){const e=H(Pt(!1),st(t));if(e===0)return;const i=this.value.rawValue,[a,p,f,m]=i.getComponents("hsv");this.value.setRawValue(new V([a+e,p,f,m],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){H(Pt(!1),st(t))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const Bn=C("svp"),Ui=64;class Wl{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),this.value=e.value,this.value.emitter.on("change",this.onValueChange_),this.element=t.createElement("div"),this.element.classList.add(Bn()),e.viewProps.bindClassModifiers(this.element),e.viewProps.bindTabIndex(this.element);const i=t.createElement("canvas");i.height=Ui,i.width=Ui,i.classList.add(Bn("c")),this.element.appendChild(i),this.canvasElement=i;const a=t.createElement("div");a.classList.add(Bn("m")),this.element.appendChild(a),this.markerElem_=a,this.update_()}update_(){const t=qo(this.canvasElement);if(!t)return;const i=this.value.rawValue.getComponents("hsv"),a=this.canvasElement.width,p=this.canvasElement.height,f=t.getImageData(0,0,a,p),m=f.data;for(let A=0;A<p;A++)for(let M=0;M<a;M++){const St=O(M,0,a,0,100),he=O(A,0,p,100,0),fe=gi(i[0],St,he),$e=(A*a+M)*4;m[$e]=fe[0],m[$e+1]=fe[1],m[$e+2]=fe[2],m[$e+3]=255}t.putImageData(f,0,0);const w=O(i[1],0,100,0,100);this.markerElem_.style.left=`${w}%`;const y=O(i[2],0,100,100,0);this.markerElem_.style.top=`${y}%`}onValueChange_(){this.update_()}}class Yl{constructor(t,e){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.view=new Wl(t,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new yt(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(t,e){if(!t.point)return;const i=O(t.point.x,0,t.bounds.width,0,100),a=O(t.point.y,0,t.bounds.height,100,0),[p,,,f]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new V([p,i,a,f],"hsv"),e)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onKeyDown_(t){fi(t.key)&&t.preventDefault();const[e,i,a,p]=this.value.rawValue.getComponents("hsv"),f=Pt(!1),m=H(f,st(t)),w=H(f,le(t));m===0&&w===0||this.value.setRawValue(new V([e,i+m,a+w,p],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(t){const e=Pt(!1),i=H(e,st(t)),a=H(e,le(t));i===0&&a===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Jl{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.hPaletteC_=new Gl(t,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new Yl(t,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=e.supportsAlpha?{palette:new Fl(t,{value:this.value,viewProps:this.viewProps}),text:new ce(t,{parser:it,baseStep:.1,props:E.fromObject({draggingScale:.01,formatter:K(2)}),value:F(0,{constraint:new It({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&ae({primary:this.value,secondary:this.alphaIcs_.text.value,forward:i=>i.rawValue.getComponents()[3],backward:(i,a)=>{const p=i.rawValue.getComponents();return p[3]=a.rawValue,new V(p,i.rawValue.mode)}}),this.textC_=new zl(t,{colorType:e.colorType,parser:it,value:this.value,viewProps:this.viewProps}),this.view=new Cl(t,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:e.supportsAlpha,svPaletteView:this.svPaletteC_.view,textView:this.textC_.view,viewProps:this.viewProps})}get textController(){return this.textC_}}const jn=C("colsw");class Xl{constructor(t,e){this.onValueChange_=this.onValueChange_.bind(this),e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.element=t.createElement("div"),this.element.classList.add(jn()),e.viewProps.bindClassModifiers(this.element);const i=t.createElement("div");i.classList.add(jn("sw")),this.element.appendChild(i),this.swatchElem_=i;const a=t.createElement("button");a.classList.add(jn("b")),e.viewProps.bindDisabled(a),this.element.appendChild(a),this.buttonElement=a,this.update_()}update_(){const t=this.value.rawValue;this.swatchElem_.style.backgroundColor=Tn(t)}onValueChange_(){this.update_()}}class Ql{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.view=new Xl(t,{value:this.value,viewProps:this.viewProps})}}class Fn{constructor(t,e){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.foldable_=Xt.create(e.expanded),this.swatchC_=new Ql(t,{value:this.value,viewProps:this.viewProps});const i=this.swatchC_.view.buttonElement;i.addEventListener("blur",this.onButtonBlur_),i.addEventListener("click",this.onButtonClick_),this.textC_=new Oe(t,{parser:e.parser,props:E.fromObject({formatter:e.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new hl(t,{foldable:this.foldable_,pickerLayout:e.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=e.pickerLayout==="popup"?new si(t,{viewProps:this.viewProps}):null;const a=new Jl(t,{colorType:e.colorType,supportsAlpha:e.supportsAlpha,value:this.value,viewProps:this.viewProps});a.view.allFocusableElements.forEach(p=>{p.addEventListener("blur",this.onPopupChildBlur_),p.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=a,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(a.view.element),ae({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:p=>p.rawValue,backward:(p,f)=>f.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),hn(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(t){if(!this.popC_)return;const e=this.view.element,i=t.relatedTarget;(!i||!e.contains(i))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const e=this.popC_.view.element,i=Kr(t);i&&e.contains(i)||i&&i===this.swatchC_.view.buttonElement&&!dn(e.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function Zl(n,t){return V.isColorObject(n)?V.fromObject(n,t):V.black(t)}function tc(n){return Et(n.getComponents("rgb")).reduce((t,e)=>t<<8|Math.floor(e)&255,0)}function ec(n){return n.getComponents("rgb").reduce((t,e,i)=>{const a=Math.floor(i===3?e*255:e)&255;return t<<8|a},0)>>>0}function nc(n){return new V([n>>16&255,n>>8&255,n&255],"rgb")}function rc(n){return new V([n>>24&255,n>>16&255,n>>8&255,O(n&255,0,255,0,1)],"rgb")}function ic(n){return typeof n!="number"?V.black():nc(n)}function sc(n){return typeof n!="number"?V.black():rc(n)}function oc(n){const t=Rn(n);return t?(e,i)=>{ue(e,t(i))}:null}function ac(n){const t=n?ec:tc;return(e,i)=>{ue(e,t(i))}}function lc(n,t,e){const i=t.toRgbaObject(e);n.writeProperty("r",i.r),n.writeProperty("g",i.g),n.writeProperty("b",i.b),n.writeProperty("a",i.a)}function cc(n,t,e){const i=t.toRgbaObject(e);n.writeProperty("r",i.r),n.writeProperty("g",i.g),n.writeProperty("b",i.b)}function uc(n,t){return(e,i)=>{n?lc(e,i,t):cc(e,i,t)}}function $n(n){var t;return!!(n!=null&&n.alpha||!((t=n==null?void 0:n.color)===null||t===void 0)&&t.alpha)}function pc(n){return n?t=>Tn(t,"0x"):t=>ji(t,"0x")}function dc(n){return"color"in n||"view"in n&&n.view==="color"}const hc={id:"input-color-number",type:"input",accept:(n,t)=>{if(typeof n!="number"||!dc(t))return null;const e=Ln(t);return e?{initialValue:n,params:e}:null},binding:{reader:n=>$n(n.params)?sc:ic,equals:V.equals,writer:n=>ac($n(n.params))},controller:n=>{const t=$n(n.params),e="expanded"in n.params?n.params.expanded:void 0,i="picker"in n.params?n.params.picker:void 0;return new Fn(n.document,{colorType:"int",expanded:e??!1,formatter:pc(t),parser:On("int"),pickerLayout:i??"popup",supportsAlpha:t,value:n.value,viewProps:n.viewProps})}};function fc(n){return V.isRgbaColorObject(n)}function vc(n){return t=>Zl(t,n)}function mc(n,t){return e=>n?Ki(e,t):$i(e,t)}const bc={id:"input-color-object",type:"input",accept:(n,t)=>{if(!V.isColorObject(n))return null;const e=Ln(t);return e?{initialValue:n,params:e}:null},binding:{reader:n=>vc(kt(n.params)),equals:V.equals,writer:n=>uc(fc(n.initialValue),kt(n.params))},controller:n=>{var t;const e=V.isRgbaColorObject(n.initialValue),i="expanded"in n.params?n.params.expanded:void 0,a="picker"in n.params?n.params.picker:void 0,p=(t=kt(n.params))!==null&&t!==void 0?t:"int";return new Fn(n.document,{colorType:p,expanded:i??!1,formatter:mc(e,p),parser:On(p),pickerLayout:a??"popup",supportsAlpha:e,value:n.value,viewProps:n.viewProps})}},_c={id:"input-color-string",type:"input",accept:(n,t)=>{if(typeof n!="string"||"view"in t&&t.view==="text")return null;const e=Dn(n,kt(t));if(!e||!Rn(e))return null;const a=Ln(t);return a?{initialValue:n,params:a}:null},binding:{reader:n=>{var t;return Ll((t=kt(n.params))!==null&&t!==void 0?t:"int")},equals:V.equals,writer:n=>{const t=Dn(n.initialValue,kt(n.params));if(!t)throw S.shouldNeverHappen();const e=oc(t);if(!e)throw S.notBindable();return e}},controller:n=>{const t=Dn(n.initialValue,kt(n.params));if(!t)throw S.shouldNeverHappen();const e=Rn(t);if(!e)throw S.shouldNeverHappen();const i="expanded"in n.params?n.params.expanded:void 0,a="picker"in n.params?n.params.picker:void 0;return new Fn(n.document,{colorType:t.type,expanded:i??!1,formatter:e,parser:On(t.type),pickerLayout:a??"popup",supportsAlpha:t.alpha,value:n.value,viewProps:n.viewProps})}};class dt{constructor(t){this.components=t.components,this.asm_=t.assembly}constrain(t){const e=this.asm_.toComponents(t).map((i,a)=>{var p,f;return(f=(p=this.components[a])===null||p===void 0?void 0:p.constrain(i))!==null&&f!==void 0?f:i});return this.asm_.fromComponents(e)}}const Hi=C("pndtxt");class gc{constructor(t,e){this.textViews=e.textViews,this.element=t.createElement("div"),this.element.classList.add(Hi()),this.textViews.forEach(i=>{const a=t.createElement("div");a.classList.add(Hi("a")),a.appendChild(i.element),this.element.appendChild(a)})}}function wc(n,t,e){return new ce(n,{arrayPosition:e===0?"fst":e===t.axes.length-1?"lst":"mid",baseStep:t.axes[e].baseStep,parser:t.parser,props:t.axes[e].textProps,value:F(0,{constraint:t.axes[e].constraint}),viewProps:t.viewProps})}class Kn{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.acs_=e.axes.map((i,a)=>wc(t,e,a)),this.acs_.forEach((i,a)=>{ae({primary:this.value,secondary:i.value,forward:p=>e.assembly.toComponents(p.rawValue)[a],backward:(p,f)=>{const m=e.assembly.toComponents(p.rawValue);return m[a]=f.rawValue,e.assembly.fromComponents(m)}})}),this.view=new gc(t,{textViews:this.acs_.map(i=>i.view)})}}function zi(n,t){return"step"in n&&!_(n.step)?new De(n.step,t):null}function qi(n){return!_(n.max)&&!_(n.min)?new It({max:n.max,min:n.min}):!_(n.max)||!_(n.min)?new ri({max:n.max,min:n.min}):null}function xc(n){const t=rt(n,It);if(t)return[t.values.get("min"),t.values.get("max")];const e=rt(n,ri);return e?[e.minValue,e.maxValue]:[void 0,void 0]}function yc(n,t){const e=[],i=zi(n,t);i&&e.push(i);const a=qi(n);a&&e.push(a);const p=Mn(n.options);return p&&e.push(p),new ne(e)}const Cc={id:"input-number",type:"input",accept:(n,t)=>{if(typeof n!="number")return null;const e=D,i=$(t,{format:e.optional.function,max:e.optional.number,min:e.optional.number,options:e.optional.custom(Re),step:e.optional.number});return i?{initialValue:n,params:i}:null},binding:{reader:n=>di,constraint:n=>yc(n.params,n.initialValue),writer:n=>ue},controller:n=>{var t;const e=n.value,i=n.constraint,a=i&&rt(i,re);if(a)return new ie(n.document,{props:new E({options:a.values.value("options")}),value:e,viewProps:n.viewProps});const p=(t="format"in n.params?n.params.format:void 0)!==null&&t!==void 0?t:K(Ie(i,e.rawValue)),f=i&&rt(i,It);return f?new An(n.document,{baseStep:Nt(i),parser:it,sliderProps:new E({maxValue:f.values.value("max"),minValue:f.values.value("min")}),textProps:E.fromObject({draggingScale:Bt(i,e.rawValue),formatter:p}),value:e,viewProps:n.viewProps}):new ce(n.document,{baseStep:Nt(i),parser:it,props:E.fromObject({draggingScale:Bt(i,e.rawValue),formatter:p}),value:e,viewProps:n.viewProps})}};class ht{constructor(t=0,e=0){this.x=t,this.y=e}getComponents(){return[this.x,this.y]}static isObject(t){if(_(t))return!1;const e=t.x,i=t.y;return!(typeof e!="number"||typeof i!="number")}static equals(t,e){return t.x===e.x&&t.y===e.y}toObject(){return{x:this.x,y:this.y}}}const Gi={toComponents:n=>n.getComponents(),fromComponents:n=>new ht(...n)},Ft=C("p2d");class Ec{constructor(t,e){this.element=t.createElement("div"),this.element.classList.add(Ft()),e.viewProps.bindClassModifiers(this.element),z(e.expanded,lt(this.element,Ft(void 0,"expanded")));const i=t.createElement("div");i.classList.add(Ft("h")),this.element.appendChild(i);const a=t.createElement("button");a.classList.add(Ft("b")),a.appendChild(Ae(t,"p2dpad")),e.viewProps.bindDisabled(a),i.appendChild(a),this.buttonElement=a;const p=t.createElement("div");if(p.classList.add(Ft("t")),i.appendChild(p),this.textElement=p,e.pickerLayout==="inline"){const f=t.createElement("div");f.classList.add(Ft("p")),this.element.appendChild(f),this.pickerElement=f}else this.pickerElement=null}}const ft=C("p2dp");class Pc{constructor(t,e){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.invertsY_=e.invertsY,this.maxValue_=e.maxValue,this.element=t.createElement("div"),this.element.classList.add(ft()),e.layout==="popup"&&this.element.classList.add(ft(void 0,"p")),e.viewProps.bindClassModifiers(this.element);const i=t.createElement("div");i.classList.add(ft("p")),e.viewProps.bindTabIndex(i),this.element.appendChild(i),this.padElement=i;const a=t.createElementNS(Q,"svg");a.classList.add(ft("g")),this.padElement.appendChild(a),this.svgElem_=a;const p=t.createElementNS(Q,"line");p.classList.add(ft("ax")),p.setAttributeNS(null,"x1","0"),p.setAttributeNS(null,"y1","50%"),p.setAttributeNS(null,"x2","100%"),p.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(p);const f=t.createElementNS(Q,"line");f.classList.add(ft("ax")),f.setAttributeNS(null,"x1","50%"),f.setAttributeNS(null,"y1","0"),f.setAttributeNS(null,"x2","50%"),f.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(f);const m=t.createElementNS(Q,"line");m.classList.add(ft("l")),m.setAttributeNS(null,"x1","50%"),m.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(m),this.lineElem_=m;const w=t.createElement("div");w.classList.add(ft("m")),this.padElement.appendChild(w),this.markerElem_=w,e.value.emitter.on("change",this.onValueChange_),this.value=e.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[t,e]=this.value.rawValue.getComponents(),i=this.maxValue_,a=O(t,-i,+i,0,100),p=O(e,-i,+i,0,100),f=this.invertsY_?100-p:p;this.lineElem_.setAttributeNS(null,"x2",`${a}%`),this.lineElem_.setAttributeNS(null,"y2",`${f}%`),this.markerElem_.style.left=`${a}%`,this.markerElem_.style.top=`${f}%`}onValueChange_(){this.update_()}onFoldableChange_(){this.update_()}}function Wi(n,t,e){return[H(t[0],st(n)),H(t[1],le(n))*(e?1:-1)]}class kc{constructor(t,e){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.baseSteps_=e.baseSteps,this.maxValue_=e.maxValue,this.invertsY_=e.invertsY,this.view=new Pc(t,{invertsY:this.invertsY_,layout:e.layout,maxValue:this.maxValue_,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new yt(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(t,e){if(!t.point)return;const i=this.maxValue_,a=O(t.point.x,0,t.bounds.width,-i,+i),p=O(this.invertsY_?t.bounds.height-t.point.y:t.point.y,0,t.bounds.height,-i,+i);this.value.setRawValue(new ht(a,p),e)}onPointerDown_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerMove_(t){this.handlePointerEvent_(t.data,{forceEmit:!1,last:!1})}onPointerUp_(t){this.handlePointerEvent_(t.data,{forceEmit:!0,last:!0})}onPadKeyDown_(t){fi(t.key)&&t.preventDefault();const[e,i]=Wi(t,this.baseSteps_,this.invertsY_);e===0&&i===0||this.value.setRawValue(new ht(this.value.rawValue.x+e,this.value.rawValue.y+i),{forceEmit:!1,last:!1})}onPadKeyUp_(t){const[e,i]=Wi(t,this.baseSteps_,this.invertsY_);e===0&&i===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Sc{constructor(t,e){var i,a;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=e.value,this.viewProps=e.viewProps,this.foldable_=Xt.create(e.expanded),this.popC_=e.pickerLayout==="popup"?new si(t,{viewProps:this.viewProps}):null;const p=new kc(t,{baseSteps:[e.axes[0].baseStep,e.axes[1].baseStep],invertsY:e.invertsY,layout:e.pickerLayout,maxValue:e.maxValue,value:this.value,viewProps:this.viewProps});p.view.allFocusableElements.forEach(f=>{f.addEventListener("blur",this.onPopupChildBlur_),f.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=p,this.textC_=new Kn(t,{assembly:Gi,axes:e.axes,parser:e.parser,value:this.value,viewProps:this.viewProps}),this.view=new Ec(t,{expanded:this.foldable_.value("expanded"),pickerLayout:e.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(i=this.view.buttonElement)===null||i===void 0||i.addEventListener("blur",this.onPadButtonBlur_),(a=this.view.buttonElement)===null||a===void 0||a.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),ae({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:f=>f.rawValue,backward:(f,m)=>m.rawValue})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),hn(this.foldable_,this.view.pickerElement))}onPadButtonBlur_(t){if(!this.popC_)return;const e=this.view.element,i=t.relatedTarget;(!i||!e.contains(i))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(t){if(!this.popC_)return;const e=this.popC_.view.element,i=Kr(t);i&&e.contains(i)||i&&i===this.view.buttonElement&&!dn(e.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(t){this.popC_?t.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&t.key==="Escape"&&this.view.buttonElement.focus()}}class $t{constructor(t=0,e=0,i=0){this.x=t,this.y=e,this.z=i}getComponents(){return[this.x,this.y,this.z]}static isObject(t){if(_(t))return!1;const e=t.x,i=t.y,a=t.z;return!(typeof e!="number"||typeof i!="number"||typeof a!="number")}static equals(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const Yi={toComponents:n=>n.getComponents(),fromComponents:n=>new $t(...n)};function Vc(n){return $t.isObject(n)?new $t(n.x,n.y,n.z):new $t}function Ac(n,t){n.writeProperty("x",t.x),n.writeProperty("y",t.y),n.writeProperty("z",t.z)}function Mc(n,t){return new dt({assembly:Yi,components:[ot("x"in n?n.x:void 0,t.x),ot("y"in n?n.y:void 0,t.y),ot("z"in n?n.z:void 0,t.z)]})}function Un(n,t){return{baseStep:Nt(t),constraint:t,textProps:E.fromObject({draggingScale:Bt(t,n),formatter:K(Ie(t,n))})}}const Lc={id:"input-point3d",type:"input",accept:(n,t)=>{if(!$t.isObject(n))return null;const e=D,i=$(t,{x:e.optional.custom(ut),y:e.optional.custom(ut),z:e.optional.custom(ut)});return i?{initialValue:n,params:i}:null},binding:{reader:n=>Vc,constraint:n=>Mc(n.params,n.initialValue),equals:$t.equals,writer:n=>Ac},controller:n=>{const t=n.value,e=n.constraint;if(!(e instanceof dt))throw S.shouldNeverHappen();return new Kn(n.document,{assembly:Yi,axes:[Un(t.rawValue.x,e.components[0]),Un(t.rawValue.y,e.components[1]),Un(t.rawValue.z,e.components[2])],parser:it,value:t,viewProps:n.viewProps})}};class Kt{constructor(t=0,e=0,i=0,a=0){this.x=t,this.y=e,this.z=i,this.w=a}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(t){if(_(t))return!1;const e=t.x,i=t.y,a=t.z,p=t.w;return!(typeof e!="number"||typeof i!="number"||typeof a!="number"||typeof p!="number")}static equals(t,e){return t.x===e.x&&t.y===e.y&&t.z===e.z&&t.w===e.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const Ji={toComponents:n=>n.getComponents(),fromComponents:n=>new Kt(...n)};function Dc(n){return Kt.isObject(n)?new Kt(n.x,n.y,n.z,n.w):new Kt}function Oc(n,t){n.writeProperty("x",t.x),n.writeProperty("y",t.y),n.writeProperty("z",t.z),n.writeProperty("w",t.w)}function Tc(n,t){return new dt({assembly:Ji,components:[ot("x"in n?n.x:void 0,t.x),ot("y"in n?n.y:void 0,t.y),ot("z"in n?n.z:void 0,t.z),ot("w"in n?n.w:void 0,t.w)]})}function Rc(n,t){return{baseStep:Nt(t),constraint:t,textProps:E.fromObject({draggingScale:Bt(t,n),formatter:K(Ie(t,n))})}}const Ic={id:"input-point4d",type:"input",accept:(n,t)=>{if(!Kt.isObject(n))return null;const e=D,i=$(t,{x:e.optional.custom(ut),y:e.optional.custom(ut),z:e.optional.custom(ut),w:e.optional.custom(ut)});return i?{initialValue:n,params:i}:null},binding:{reader:n=>Dc,constraint:n=>Tc(n.params,n.initialValue),equals:Kt.equals,writer:n=>Oc},controller:n=>{const t=n.value,e=n.constraint;if(!(e instanceof dt))throw S.shouldNeverHappen();return new Kn(n.document,{assembly:Ji,axes:t.rawValue.getComponents().map((i,a)=>Rc(i,e.components[a])),parser:it,value:t,viewProps:n.viewProps})}};function Nc(n){const t=[],e=Mn(n.options);return e&&t.push(e),new ne(t)}const Bc={id:"input-string",type:"input",accept:(n,t)=>{if(typeof n!="string")return null;const i=$(t,{options:D.optional.custom(Re)});return i?{initialValue:n,params:i}:null},binding:{reader:n=>hi,constraint:n=>Nc(n.params),writer:n=>ue},controller:n=>{const t=n.document,e=n.value,i=n.constraint,a=i&&rt(i,re);return a?new ie(t,{props:new E({options:a.values.value("options")}),value:e,viewProps:n.viewProps}):new Oe(t,{parser:p=>p,props:E.fromObject({formatter:Pn}),value:e,viewProps:n.viewProps})}},de={monitor:{defaultInterval:200,defaultLineCount:3}},Xi=C("mll");class jc{constructor(t,e){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=e.formatter,this.element=t.createElement("div"),this.element.classList.add(Xi()),e.viewProps.bindClassModifiers(this.element);const i=t.createElement("textarea");i.classList.add(Xi("i")),i.style.height=`calc(var(--bld-us) * ${e.lineCount})`,i.readOnly=!0,e.viewProps.bindDisabled(i),this.element.appendChild(i),this.textareaElem_=i,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update_()}update_(){const t=this.textareaElem_,e=t.scrollTop===t.scrollHeight-t.clientHeight,i=[];this.value.rawValue.forEach(a=>{a!==void 0&&i.push(this.formatter_(a))}),t.textContent=i.join(`
`),e&&(t.scrollTop=t.scrollHeight)}onValueUpdate_(){this.update_()}}class Hn{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.view=new jc(t,{formatter:e.formatter,lineCount:e.lineCount,value:this.value,viewProps:this.viewProps})}}const Qi=C("sgl");class Fc{constructor(t,e){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=e.formatter,this.element=t.createElement("div"),this.element.classList.add(Qi()),e.viewProps.bindClassModifiers(this.element);const i=t.createElement("input");i.classList.add(Qi("i")),i.readOnly=!0,i.type="text",e.viewProps.bindDisabled(i),this.element.appendChild(i),this.inputElement=i,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update_()}update_(){const t=this.value.rawValue,e=t[t.length-1];this.inputElement.value=e!==void 0?this.formatter_(e):""}onValueUpdate_(){this.update_()}}class zn{constructor(t,e){this.value=e.value,this.viewProps=e.viewProps,this.view=new Fc(t,{formatter:e.formatter,value:this.value,viewProps:this.viewProps})}}const $c={id:"monitor-bool",type:"monitor",accept:(n,t)=>{if(typeof n!="boolean")return null;const i=$(t,{lineCount:D.optional.number});return i?{initialValue:n,params:i}:null},binding:{reader:n=>ai},controller:n=>{var t;return n.value.rawValue.length===1?new zn(n.document,{formatter:li,value:n.value,viewProps:n.viewProps}):new Hn(n.document,{formatter:li,lineCount:(t=n.params.lineCount)!==null&&t!==void 0?t:de.monitor.defaultLineCount,value:n.value,viewProps:n.viewProps})}},vt=C("grl");class Kc{constructor(t,e){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=t.createElement("div"),this.element.classList.add(vt()),e.viewProps.bindClassModifiers(this.element),this.formatter_=e.formatter,this.props_=e.props,this.cursor_=e.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const i=t.createElementNS(Q,"svg");i.classList.add(vt("g")),i.style.height=`calc(var(--bld-us) * ${e.lineCount})`,this.element.appendChild(i),this.svgElem_=i;const a=t.createElementNS(Q,"polyline");this.svgElem_.appendChild(a),this.lineElem_=a;const p=t.createElement("div");p.classList.add(vt("t"),C("tt")()),this.element.appendChild(p),this.tooltipElem_=p,e.value.emitter.on("change",this.onValueUpdate_),this.value=e.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const t=this.svgElem_.getBoundingClientRect(),e=this.value.rawValue.length-1,i=this.props_.get("minValue"),a=this.props_.get("maxValue"),p=[];this.value.rawValue.forEach((A,M)=>{if(A===void 0)return;const St=O(M,0,e,0,t.width),he=O(A,i,a,t.height,0);p.push([St,he].join(","))}),this.lineElem_.setAttributeNS(null,"points",p.join(" "));const f=this.tooltipElem_,m=this.value.rawValue[this.cursor_.rawValue];if(m===void 0){f.classList.remove(vt("t","a"));return}const w=O(this.cursor_.rawValue,0,e,0,t.width),y=O(m,i,a,t.height,0);f.style.left=`${w}px`,f.style.top=`${y}px`,f.textContent=`${this.formatter_(m)}`,f.classList.contains(vt("t","a"))||(f.classList.add(vt("t","a"),vt("t","in")),Ve(f),f.classList.remove(vt("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class Uc{constructor(t,e){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props_=e.props,this.value=e.value,this.viewProps=e.viewProps,this.cursor_=F(-1),this.view=new Kc(t,{cursor:this.cursor_,formatter:e.formatter,lineCount:e.lineCount,props:this.props_,value:this.value,viewProps:this.viewProps}),!dn(t))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const i=new yt(this.view.element);i.emitter.on("down",this.onGraphPointerDown_),i.emitter.on("move",this.onGraphPointerMove_),i.emitter.on("up",this.onGraphPointerUp_)}}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(t){const e=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(O(t.offsetX,0,e.width,0,this.value.rawValue.length))}onGraphPointerDown_(t){this.onGraphPointerMove_(t)}onGraphPointerMove_(t){if(!t.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(O(t.data.point.x,0,t.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function qn(n){return"format"in n&&!_(n.format)?n.format:K(2)}function Hc(n){var t;return n.value.rawValue.length===1?new zn(n.document,{formatter:qn(n.params),value:n.value,viewProps:n.viewProps}):new Hn(n.document,{formatter:qn(n.params),lineCount:(t=n.params.lineCount)!==null&&t!==void 0?t:de.monitor.defaultLineCount,value:n.value,viewProps:n.viewProps})}function zc(n){var t,e,i;return new Uc(n.document,{formatter:qn(n.params),lineCount:(t=n.params.lineCount)!==null&&t!==void 0?t:de.monitor.defaultLineCount,props:E.fromObject({maxValue:(e="max"in n.params?n.params.max:null)!==null&&e!==void 0?e:100,minValue:(i="min"in n.params?n.params.min:null)!==null&&i!==void 0?i:0}),value:n.value,viewProps:n.viewProps})}function Zi(n){return"view"in n&&n.view==="graph"}const qc={id:"monitor-number",type:"monitor",accept:(n,t)=>{if(typeof n!="number")return null;const e=D,i=$(t,{format:e.optional.function,lineCount:e.optional.number,max:e.optional.number,min:e.optional.number,view:e.optional.string});return i?{initialValue:n,params:i}:null},binding:{defaultBufferSize:n=>Zi(n)?64:1,reader:n=>di},controller:n=>Zi(n.params)?zc(n):Hc(n)},Gc={id:"monitor-string",type:"monitor",accept:(n,t)=>{if(typeof n!="string")return null;const e=D,i=$(t,{lineCount:e.optional.number,multiline:e.optional.boolean});return i?{initialValue:n,params:i}:null},binding:{reader:n=>hi},controller:n=>{var t;const e=n.value;return e.rawValue.length>1||"multiline"in n.params&&n.params.multiline?new Hn(n.document,{formatter:Pn,lineCount:(t=n.params.lineCount)!==null&&t!==void 0?t:de.monitor.defaultLineCount,value:e,viewProps:n.viewProps}):new zn(n.document,{formatter:Pn,value:e,viewProps:n.viewProps})}};function Wc(n,t){var e;const i=n.accept(t.target.read(),t.params);if(_(i))return null;const a=D,p={target:t.target,initialValue:i.initialValue,params:i.params},f=n.binding.reader(p),m=n.binding.constraint?n.binding.constraint(p):void 0,w=F(f(i.initialValue),{constraint:m,equals:n.binding.equals}),y=new wa({reader:f,target:t.target,value:w,writer:n.binding.writer(p)}),A=a.optional.boolean(t.params.disabled).value,M=a.optional.boolean(t.params.hidden).value,St=n.controller({constraint:m,document:t.document,initialValue:i.initialValue,params:i.params,value:y.value,viewProps:nt.create({disabled:A,hidden:M})});return new Z(t.document,{binding:y,blade:Jt(),props:E.fromObject({label:"label"in t.params?(e=a.optional.string(t.params.label).value)!==null&&e!==void 0?e:null:t.target.key}),valueController:St})}function Yc(n,t){return t===0?new _a:new ga(n,t??de.monitor.defaultInterval)}function Jc(n,t){var e,i,a;const p=D,f=n.accept(t.target.read(),t.params);if(_(f))return null;const m={target:t.target,initialValue:f.initialValue,params:f.params},w=n.binding.reader(m),y=(i=(e=p.optional.number(t.params.bufferSize).value)!==null&&e!==void 0?e:n.binding.defaultBufferSize&&n.binding.defaultBufferSize(f.params))!==null&&i!==void 0?i:1,A=p.optional.number(t.params.interval).value,M=new Ea({reader:w,target:t.target,ticker:Yc(t.document,A),value:xa(y)}),St=p.optional.boolean(t.params.disabled).value,he=p.optional.boolean(t.params.hidden).value,fe=n.controller({document:t.document,params:f.params,value:M.value,viewProps:nt.create({disabled:St,hidden:he})});return new ct(t.document,{binding:M,blade:Jt(),props:E.fromObject({label:"label"in t.params?(a=p.optional.string(t.params.label).value)!==null&&a!==void 0?a:null:t.target.key}),valueController:fe})}class Xc{constructor(){this.pluginsMap_={blades:[],inputs:[],monitors:[]}}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(t){t.type==="blade"?this.pluginsMap_.blades.unshift(t):t.type==="input"?this.pluginsMap_.inputs.unshift(t):t.type==="monitor"&&this.pluginsMap_.monitors.unshift(t)}createInput(t,e,i){const a=e.read();if(_(a))throw new S({context:{key:e.key},type:"nomatchingcontroller"});const p=this.pluginsMap_.inputs.reduce((f,m)=>f??Wc(m,{document:t,target:e,params:i}),null);if(p)return p;throw new S({context:{key:e.key},type:"nomatchingcontroller"})}createMonitor(t,e,i){const a=this.pluginsMap_.monitors.reduce((p,f)=>p??Jc(f,{document:t,params:i,target:e}),null);if(a)return a;throw new S({context:{key:e.key},type:"nomatchingcontroller"})}createBlade(t,e){const i=this.pluginsMap_.blades.reduce((a,p)=>a??ba(p,{document:t,params:e}),null);if(!i)throw new S({type:"nomatchingview",context:{params:e}});return i}createBladeApi(t){if(t instanceof Z)return new mn(t);if(t instanceof ct)return new bn(t);if(t instanceof Zt)return new Le(t,this);const e=this.pluginsMap_.blades.reduce((i,a)=>i??a.api({controller:t,pool:this}),null);if(!e)throw S.shouldNeverHappen();return e}}function Qc(){const n=new Xc;return[iu,Lc,Ic,Bc,Cc,_c,bc,hc,dl,$c,Gc,qc,Jo,ua,da,ei].forEach(t=>{n.register(t)}),n}function Zc(n){return ht.isObject(n)?new ht(n.x,n.y):new ht}function tu(n,t){n.writeProperty("x",t.x),n.writeProperty("y",t.y)}function ot(n,t){if(!n)return;const e=[],i=zi(n,t);i&&e.push(i);const a=qi(n);return a&&e.push(a),new ne(e)}function eu(n,t){return new dt({assembly:Gi,components:[ot("x"in n?n.x:void 0,t.x),ot("y"in n?n.y:void 0,t.y)]})}function ts(n,t){const[e,i]=n?xc(n):[];if(!_(e)||!_(i))return Math.max(Math.abs(e??0),Math.abs(i??0));const a=Nt(n);return Math.max(Math.abs(a)*10,Math.abs(t)*10)}function nu(n,t){const e=t instanceof dt?t.components[0]:void 0,i=t instanceof dt?t.components[1]:void 0,a=ts(e,n.x),p=ts(i,n.y);return Math.max(a,p)}function es(n,t){return{baseStep:Nt(t),constraint:t,textProps:E.fromObject({draggingScale:Bt(t,n),formatter:K(Ie(t,n))})}}function ru(n){if(!("y"in n))return!1;const t=n.y;return t&&"inverted"in t?!!t.inverted:!1}const iu={id:"input-point2d",type:"input",accept:(n,t)=>{if(!ht.isObject(n))return null;const e=D,i=$(t,{expanded:e.optional.boolean,picker:e.optional.custom(bi),x:e.optional.custom(ut),y:e.optional.object({inverted:e.optional.boolean,max:e.optional.number,min:e.optional.number,step:e.optional.number})});return i?{initialValue:n,params:i}:null},binding:{reader:n=>Zc,constraint:n=>eu(n.params,n.initialValue),equals:ht.equals,writer:n=>tu},controller:n=>{const t=n.document,e=n.value,i=n.constraint;if(!(i instanceof dt))throw S.shouldNeverHappen();const a="expanded"in n.params?n.params.expanded:void 0,p="picker"in n.params?n.params.picker:void 0;return new Sc(t,{axes:[es(e.rawValue.x,i.components[0]),es(e.rawValue.y,i.components[1])],expanded:a??!1,invertsY:ru(n.params),maxValue:nu(e.rawValue,i),parser:it,pickerLayout:p??"popup",value:e,viewProps:n.viewProps})}};class ns extends c{constructor(t){super(t),this.emitter_=new P,this.controller_.valueController.value.emitter.on("change",e=>{this.emitter_.emit("change",{event:new d(this,e.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get options(){return this.controller_.valueController.props.get("options")}set options(t){this.controller_.valueController.props.set("options",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,e){const i=e.bind(this);return this.emitter_.on(t,a=>{i(a.event)}),this}}class rs extends c{constructor(t){super(t),this.emitter_=new P,this.controller_.valueController.value.emitter.on("change",e=>{this.emitter_.emit("change",{event:new d(this,e.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get maxValue(){return this.controller_.valueController.sliderController.props.get("maxValue")}set maxValue(t){this.controller_.valueController.sliderController.props.set("maxValue",t)}get minValue(){return this.controller_.valueController.sliderController.props.get("minValue")}set minValue(t){this.controller_.valueController.sliderController.props.set("minValue",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,e){const i=e.bind(this);return this.emitter_.on(t,a=>{i(a.event)}),this}}class is extends c{constructor(t){super(t),this.emitter_=new P,this.controller_.valueController.value.emitter.on("change",e=>{this.emitter_.emit("change",{event:new d(this,e.rawValue)})})}get label(){return this.controller_.props.get("label")}set label(t){this.controller_.props.set("label",t)}get formatter(){return this.controller_.valueController.props.get("formatter")}set formatter(t){this.controller_.valueController.props.set("formatter",t)}get value(){return this.controller_.valueController.value.rawValue}set value(t){this.controller_.valueController.value.rawValue=t}on(t,e){const i=e.bind(this);return this.emitter_.on(t,a=>{i(a.event)}),this}}const su=function(){return{id:"list",type:"blade",accept(n){const t=D,e=$(n,{options:t.required.custom(Re),value:t.required.raw,view:t.required.constant("list"),label:t.optional.string});return e?{params:e}:null},controller(n){const t=new re(_i(n.params.options)),e=F(n.params.value,{constraint:t}),i=new ie(n.document,{props:new E({options:t.values.value("options")}),value:e,viewProps:n.viewProps});return new Rt(n.document,{blade:n.blade,props:E.fromObject({label:n.params.label}),valueController:i})},api(n){return!(n.controller instanceof Rt)||!(n.controller.valueController instanceof ie)?null:new ns(n.controller)}}}();function ou(n){return n.reduce((t,e)=>Object.assign(t,{[e.presetKey]:e.read()}),{})}function au(n,t){n.forEach(e=>{const i=t[e.target.presetKey];i!==void 0&&e.writer(e.target,e.reader(i))})}class lu extends _n{constructor(t,e){super(t,e)}get element(){return this.controller_.view.element}importPreset(t){const e=this.controller_.rackController.rack.find(Z).map(i=>i.binding);au(e,t),this.refresh()}exportPreset(){const t=this.controller_.rackController.rack.find(Z).map(e=>e.binding.target);return ou(t)}refresh(){this.controller_.rackController.rack.find(Z).forEach(t=>{t.binding.read()}),this.controller_.rackController.rack.find(ct).forEach(t=>{t.binding.read()})}}class cu extends xn{constructor(t,e){super(t,{expanded:e.expanded,blade:e.blade,props:e.props,root:!0,viewProps:e.viewProps})}}const uu={id:"slider",type:"blade",accept(n){const t=D,e=$(n,{max:t.required.number,min:t.required.number,view:t.required.constant("slider"),format:t.optional.function,label:t.optional.string,value:t.optional.number});return e?{params:e}:null},controller(n){var t,e;const i=(t=n.params.value)!==null&&t!==void 0?t:0,a=new It({max:n.params.max,min:n.params.min}),p=new An(n.document,{baseStep:1,parser:it,sliderProps:new E({maxValue:a.values.value("max"),minValue:a.values.value("min")}),textProps:E.fromObject({draggingScale:Bt(void 0,i),formatter:(e=n.params.format)!==null&&e!==void 0?e:el}),value:F(i,{constraint:a}),viewProps:n.viewProps});return new Rt(n.document,{blade:n.blade,props:E.fromObject({label:n.params.label}),valueController:p})},api(n){return!(n.controller instanceof Rt)||!(n.controller.valueController instanceof An)?null:new rs(n.controller)}},pu=function(){return{id:"text",type:"blade",accept(n){const t=D,e=$(n,{parse:t.required.function,value:t.required.raw,view:t.required.constant("text"),format:t.optional.function,label:t.optional.string});return e?{params:e}:null},controller(n){var t;const e=new Oe(n.document,{parser:n.params.parse,props:E.fromObject({formatter:(t=n.params.format)!==null&&t!==void 0?t:i=>String(i)}),value:F(n.params.value),viewProps:n.viewProps});return new Rt(n.document,{blade:n.blade,props:E.fromObject({label:n.params.label}),valueController:e})},api(n){return!(n.controller instanceof Rt)||!(n.controller.valueController instanceof Oe)?null:new is(n.controller)}}}();function du(n){const t=n.createElement("div");return t.classList.add(C("dfw")()),n.body&&n.body.appendChild(t),t}function ss(n,t,e){if(n.querySelector(`style[data-tp-style=${t}]`))return;const i=n.createElement("style");i.dataset.tpStyle=t,i.textContent=e,n.head.appendChild(i)}class hu extends lu{constructor(t){var e,i;const a=t??{},p=(e=a.document)!==null&&e!==void 0?e:zo(),f=Qc(),m=new cu(p,{expanded:a.expanded,blade:Jt(),props:E.fromObject({title:a.title}),viewProps:nt.create()});super(m,f),this.pool_=f,this.containerElem_=(i=a.container)!==null&&i!==void 0?i:du(p),this.containerElem_.appendChild(this.element),this.doc_=p,this.usesDefaultWrapper_=!a.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw S.alreadyDisposed();return this.doc_}dispose(){const t=this.containerElem_;if(!t)throw S.alreadyDisposed();if(this.usesDefaultWrapper_){const e=t.parentElement;e&&e.removeChild(t)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(t){("plugin"in t?[t.plugin]:"plugins"in t?t.plugins:[]).forEach(i=>{this.pool_.register(i),this.embedPluginStyle_(i)})}embedPluginStyle_(t){t.css&&ss(this.document,`plugin-${t.id}`,t.css)}setUpDefaultPlugins_(){ss(this.document,"default",'.tp-tbiv_b,.tp-coltxtv_ms,.tp-ckbv_i,.tp-rotv_b,.tp-fldv_b,.tp-mllv_i,.tp-sglv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--elm-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--bld-us);line-height:var(--bld-us);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--bld-us);line-height:var(--bld-us);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-mllv_i,.tp-sglv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--elm-br);box-sizing:border-box;color:var(--mo-fg);height:var(--bld-us);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-mllv_i::-webkit-scrollbar,.tp-sglv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-mllv_i::-webkit-scrollbar-corner,.tp-sglv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-mllv_i::-webkit-scrollbar-thumb,.tp-sglv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-br: var(--tp-base-border-radius, 6px);--cnt-h-p: var(--tp-container-horizontal-padding, 4px);--cnt-v-p: var(--tp-container-vertical-padding, 4px);--elm-br: var(--tp-element-border-radius, 2px);--bld-s: var(--tp-blade-spacing, 4px);--bld-us: var(--tp-blade-unit-size, 20px);--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tabv_c .tp-brkv>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1*var(--cnt-v-p))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tabv_c .tp-brkv>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tabv_c .tp-brkv>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--bld-s)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tabv_c .tp-brkv>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-v-p)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tabv_c .tp-brkv>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tabv_c .tp-brkv>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tabv_c .tp-brkv>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tabv_c .tp-brkv>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--elm-br);border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tabv_c .tp-brkv .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tabv_c .tp-brkv>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tabv_c .tp-brkv>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--elm-br)}.tp-tabv_c .tp-brkv .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--elm-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);overflow:hidden;padding-left:var(--cnt-h-p);padding-right:calc(4px + var(--bld-us) + var(--cnt-h-p));position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(var(--cnt-h-p) + (var(--bld-us) + 4px - 6px)/2 - 2px);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-v-p);padding-top:var(--cnt-v-p);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--elm-br);cursor:pointer;display:block;height:var(--bld-us);position:relative;width:var(--bld-us)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--bld-us)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--bld-s);opacity:1}.tp-colv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--bld-s)}.tp-colpv_rgb{display:flex;margin-top:var(--bld-s);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-v-p);padding-top:calc(var(--cnt-v-p) + 2px);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1*var(--cnt-h-p));position:absolute;right:calc(-1*var(--cnt-h-p));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--elm-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--bld-us)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--bld-us);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--elm-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--elm-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--elm-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;cursor:pointer;display:block;height:var(--bld-us);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--bld-us)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--elm-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--elm-br);color:var(--lbl-fg);cursor:pointer;height:var(--bld-us);line-height:var(--bld-us);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv.tp-fldv-not .tp-fldv_b{display:none}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--bld-us) + 4px);width:var(--bs-br)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--bld-us)*3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-h-p);padding-right:var(--cnt-h-p)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding:0 4px}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--bld-us)*3);line-height:var(--bld-us);padding:0 4px;resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--bld-us);margin-right:4px;position:relative;width:var(--bld-us)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--bld-s);opacity:1}.tp-p2dv .tp-popv{left:calc(-1*var(--cnt-h-p));right:calc(-1*var(--cnt-h-p));top:var(--bld-us)}.tp-p2dpv{padding-left:calc(var(--bld-us) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:6px;box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:168px;padding:var(--cnt-v-p) var(--cnt-h-p);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--bld-us);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--elm-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:"";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--bld-us) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_c{padding-bottom:var(--cnt-v-p);padding-left:4px;padding-top:var(--cnt-v-p)}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--bld-us) + 4px);width:var(--bs-br)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-h-p) + 4px);padding-right:calc(var(--cnt-h-p) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);bottom:2px;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--bld-us) + 4px);line-height:calc(var(--bld-us) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-txtv{position:relative}.tp-txtv_i{padding:0 4px}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:-3px;position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--bld-us) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--elm-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(4px + var(--bld-us) + var(--cnt-h-p));text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv.tp-rotv-not .tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1*var(--cnt-v-p))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}'),this.pool_.getAll().forEach(t=>{this.embedPluginStyle_(t)}),this.registerPlugin({plugins:[uu,su,ei,pu]})}}const fu=new l("3.1.10");o.BladeApi=c,o.ButtonApi=L,o.FolderApi=_n,o.InputBindingApi=mn,o.ListApi=ns,o.MonitorBindingApi=bn,o.Pane=hu,o.SeparatorApi=Gr,o.SliderApi=rs,o.TabApi=Qr,o.TabPageApi=Xr,o.TextApi=is,o.TpChangeEvent=d,o.VERSION=fu,Object.defineProperty(o,"__esModule",{value:!0})})})(fr,fr.exports);var md=fr.exports;const Oo="rsDesignerExpanded",bd=new md.Pane({title:"",expanded:localStorage.getItem(Oo)==="true",container:document.getElementById("builder-container")});document.querySelector(".tp-rotv_b").addEventListener("click",()=>{localStorage.setItem(Oo,bd.expanded)});const _d="https://raw.githubusercontent.com/jsonresume/resume-schema/master/schema.json",gd={name:"Prakash Pandey",label:"Sr Data & Cloud Engineer",summary:"5+ years experience in Data and Cloud Engineering, building data-intensive applications, tackling challenging architectural and scalability problems, designing, testing, and maintenance of software systems in Retails and Sales domain.Experienced with the latest cutting-edge development tools and procedures. Able to effectively self-manage during independent projects, as well as collaborate as part of a productive team.",image:"",location:{address:"",city:"",postalCode:"",region:"Remote",countryCode:""},url:"https://prkpro.github.io/",phone:"+91 7355105172",email:"prakashpro86@gmail.com",LinkedIn:"https://www.linkedin.com/in/prakash-pandey-data-science/",Medium:"https://medium.com/@prakashpro86",Github:"https://github.com/prkashp/"},wd=[{institution:"Lovely Professional University",studyType:"Bachelor of Technology",area:"Computer and Electronics",startDate:"2014",endDate:"2018"}],xd=[{language:"English",fluency:"Working proficiency"},{language:"Hindi",fluency:"Native Speaker"}],yd=[{name:"ACL Digital",logo:"/logo/acl_logo.png",position:"Senior Software Engineer - Data",summary:"Designed and Developed core data processing framework",startDate:"2023-04",highlights:["Implement Core data processing framework in Javascript for semi-structured data migration and parsing from S3 buckets to Snowflake database supporting 500+ tables","Developed an ETL process to transform data from multiple sources and load it into a data warehouse","Improved and refactored pipeline to dynamically increment path in S3","Developed a data quality framework to standardize and validate data"],location:"Bengaluru (Remote)",url:"https://www.acldigital.com/blogs/fundamentals-data-contracts"},{name:"Ugam",logo:"/logo/Ugam_logo.png",position:"Software Engineer - Frontend & API",summary:"Developed FrontEnd designs and APIs",startDate:"2021-12",endDate:"2023-03",highlights:["Worked on Implementing RestAPI routes and FrontEnd for dynamic forms"],location:"Bengaluru"},{name:"Denave",logo:"/logo/denave.png",position:"Data Analyst, Engineering",summary:"Build streaming pipeline based on API calls and Kafka",startDate:"2020-02",endDate:"2021-12",highlights:["Implemented Private API Gateway with Oauth2 authorization using lambda authorizer","Integrated Kafka REST interface on an ECS cluster for producing messages to Kafka topics","Built an ETL framework for batch pipelines. Streamlined usage by introducing a 3 file method (Config, Airflow DAG, and ETL script) thus reducing ETL work","Build a secrets rotation module using AWS Secrets manager and event bridge","Built a data model from scratch sourcing from real-time Kafka streams for retail data in Snowflake DB"],location:"Delhi NCR"},{name:"Wipro",logo:"/logo/wipro_logo.png",position:"Database Analyst",summary:"Build batch pipeline based on connector and Airflow",startDate:"2018-11",endDate:"2020-02",highlights:["Built Data Warehouse with in-depth data validation on data from various sales channels across the world","Prepare and optimized Spark Jobs for batch processes"],location:"Delhi NCR"}],Cd=[{name:"TechGik",startDate:"2024-04-01",endDate:"2024",summary:"A startup website with Feedback forms and Blogs",highlights:["Built APIs and backend database using Javascript and Postgres based serverless database"],url:"https://techgik.com/"},{name:"MetaFlakes",startDate:"2024-06-22",endDate:"2024",summary:"An admin website to view objects from snowflake databases",highlights:["Frontend was built using the Streamlit library in python"],url:"https://github.com/prkashp/metaflake"},{name:"Retail Data Model",startDate:"2023-08-02",endDate:"2024",summary:"A transactional based retail data model from Json payload ",highlights:["Built a retails data model by parsing a complex json payload."],url:"https://www.404.com/"}],Ed=[{name:"Cloud: ",level:"AWS Cloudformation Lambda, ECS, EC2, S3, SNS, ECR"},{name:"Big Data: ",level:"Apache Kafka, Spark, Hadoop"},{name:"Programming: ",level:"Python, Javascript, Bash"},{name:"Data: ",level:"ETL Pipeline, Data Warehousing, Data Modelling, Design"},{name:"Database: ",level:"Snowflake, PostgresDB, Cassandra"},{name:"Platform & Orchestration: ",level:"Docker Desktop, Apache Airflow"},{name:"CI/CD: ",level:"Gitlab CI, Jenkins"},{name:"Management: ",level:"Git, Jira, Confluence, Draw.io"}],Pd=[{issuer:"IIT Madras",name:"Data Structures and Algorithms in Python",date:"2018",url:""}],kd={$schema:_d,basics:gd,education:wd,languages:xd,work:yd,projects:Cd,skills:Ed,certificates:Pd};Do.data("resume",()=>({resume:kd}));Do.start();
